<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GeoReady — اختبارات عملية (المرحلة 1)</title>

<!-- ====== PART 1: THEME + LAYOUT (Dark UI) ====== -->
<style>
  :root{
    --bg-0: #041022;
    --bg-1: #071428;
    --card: #071726;
    --muted: #9fb0c8;
    --accent-1: #06b6d4;
    --accent-2: #7c3aed;
    --accent-3: #ff8a3d;
    --good: #16a34a;
    --bad: #ef4444;
    --glass: rgba(255,255,255,0.03);
    --radius: 12px;
    --shadow: 0 12px 36px rgba(2,6,23,0.6);
    --mono: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: var(--mono);
    background: linear-gradient(180deg,var(--bg-0) 0%, #05132a 60%);
    color:#e6f0fb;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.45;
  }

  .wrap{
    max-width:1150px;
    margin:18px auto;
    padding:18px;
  }

  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    margin-bottom:14px;
  }

  .brand{display:flex;gap:12px;align-items:center}
  .logo{
    width:56px;height:56px;border-radius:10px;
    background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
    display:flex;align-items:center;justify-content:center;
    font-weight:900;color:#fff;font-size:20px;
    box-shadow:0 8px 24px rgba(7,26,44,0.6);
  }
  h1{margin:0;font-size:20px}
  .subtitle{color:var(--muted);font-size:13px}

  .controls{display:flex;gap:8px;align-items:center}
  .lang-toggle, .ghost, .btn {
    border-radius:8px;padding:8px 10px;border:1px solid rgba(255,255,255,0.04);
    background:transparent;color:var(--muted);cursor:pointer;font-weight:700;
  }
  .btn{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#fff;border:none}

  .container{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: var(--radius);
    padding:18px;
    box-shadow: var(--shadow);
    border: 1px solid rgba(255,255,255,0.03);
  }

  /* Sections grid */
  .sections{
    display:grid;
    grid-template-columns: repeat(2, 1fr);
    gap:12px;
  }
  .section-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    padding:16px;border-radius:10px;cursor:pointer;
    transition: transform .18s, box-shadow .18s;
    border: 1px solid rgba(255,255,255,0.02);
    box-shadow: 0 8px 22px rgba(2,6,23,0.45);
  }
  .section-card:hover{ transform: translateY(-6px); box-shadow: 0 18px 36px rgba(2,6,23,0.6); }
  .section-title{ font-weight:800; font-size:16px; color: #f6fbff; }
  .section-desc{ color:var(--muted); font-size:13px; margin-top:6px }

  /* Quiz area placeholder (will be filled in part 2) */
  .quiz-area{ margin-top:14px; min-height:360px; position:relative; display:none; }

  /* Responsive */
  @media(max-width:900px){
    .sections{ grid-template-columns: 1fr; }
    .wrap{ padding:12px }
  }

  /* small utilities */
  .muted{ color: var(--muted) }
  .center{ text-align:center }
</style>
</head>
<body>

  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">GQ</div>
        <div>
          <h1>GeoReady — اختبارات عملية</h1>
          <div class="subtitle">تدريب ميداني تفاعلي — عربي / English</div>
        </div>
      </div>

      <div class="controls">
        <button class="lang-toggle" id="langToggle">العربي / EN</button>
        <button class="ghost" id="leaderBtn">النتائج</button>
      </div>
    </header>

    <main class="container">
      <!-- Sections list -->
      <section>
        <div class="sections" id="sectionList">
          <!-- Cards will be injected by JS -->
        </div>
      </section>

      <!-- Quiz area (hidden initially; will be populated in Part 2) -->
      <section class="quiz-area" id="quizArea" aria-live="polite">
        <!-- Placeholder content so page doesn't look empty if JS delayed -->
        <div class="center muted">اختر قسمًا من الأعلى لبدء الاختبار — Select a section to start the quiz</div>
      </section>
    </main>

    <footer style="text-align:center;margin-top:14px;color:var(--muted);font-size:13px">
      GeoReady — النموذج التجريبي المحلّي • سيتم الحفظ في المتصفح (localStorage)
    </footer>
  </div>

  <!-- ====== PART 1: Basic JS scaffolding (hooks for next parts) ====== -->
  <script>
    /* PART 1 JS: render section cards & language toggle
       (No quiz logic yet — will be added in Part 2)
    */

    // Simple language strings (will be extended)
    const UI_STR = {
      ar: {
        sections: [
          { key: 'hydro', title: '💧 الهيدروجيولوجيا — أساسي', desc: '30 سؤال عملي — تتابعي' },
          { key: 'petro', title: '🪨 البتروغرافيا — التعرف على الصخور', desc: '30 سؤال عملي — تتابعي' },
          { key: 'maps', title: '🗺️ الخرائط الجيولوجية — الأساسيات', desc: '30 سؤال عملي — تتابعي' },
          { key: 'general', title: '🌋 الجيولوجيا العامة', desc: '30 سؤال عملي — تتابعي' },
        ],
        resultsBtn: 'النتائج'
      },
      en: {
        sections: [
          { key: 'hydro', title: '💧 Hydrogeology — Basics', desc: '30 practical Q — sequential' },
          { key: 'petro', title: '🪨 Petrography — Rock Identification', desc: '30 practical Q — sequential' },
          { key: 'maps', title: '🗺️ Geological Maps — Basics', desc: '30 practical Q — sequential' },
          { key: 'general', title: '🌋 General Geology', desc: '30 practical Q — sequential' },
        ],
        resultsBtn: 'Results'
      }
    };

    // current language state
    let lang = localStorage.getItem('geo_lang') || 'ar';

    // render the 4 section cards
    function renderSectionCards(){
      const list = document.getElementById('sectionList');
      list.innerHTML = '';
      const items = UI_STR[lang].sections;
      items.forEach(it=>{
        const el = document.createElement('div');
        el.className = 'section-card';
        el.role = 'button';
        el.tabIndex = 0;
        el.dataset.key = it.key;
        el.innerHTML = `<div class="section-title">${it.title}</div><div class="section-desc">${it.desc}</div>`;
        // click handler will be attached in part 2 (startSection)
        el.addEventListener('click', ()=> onSectionSelect(it.key));
        el.addEventListener('keypress', (e)=>{ if(e.key==='Enter') onSectionSelect(it.key); });
        list.appendChild(el);
      });
      // update results button label
      document.getElementById('leaderBtn').textContent = UI_STR[lang].resultsBtn;
      document.getElementById('langToggle').textContent = (lang==='ar')? 'العربي / EN' : 'AR / English';
    }

    // language toggle
    document.getElementById('langToggle').addEventListener('click', ()=>{
      lang = (lang === 'ar') ? 'en' : 'ar';
      localStorage.setItem('geo_lang', lang);
      renderSectionCards();
    });

    // placeholder: section select handler (to be implemented in part 2)
    function onSectionSelect(key){
      // show visual feedback + prepare to call startSection from Part 2
      const quizArea = document.getElementById('quizArea');
      quizArea.style.display = 'block';
      // temporary placeholder content (will be replaced by real question UI in Part 2)
      quizArea.innerHTML = `<div class="question-card" style="padding:18px;border-radius:10px;background:var(--card);border:1px solid rgba(255,255,255,0.02)">
        <div style="font-weight:800;font-size:18px">${ (lang==='ar') ? UI_STR[lang].sections.find(s=>s.key===key).title : UI_STR[lang].sections.find(s=>s.key===key).title }</div>
        <div class="muted" style="margin-top:8px">${ (lang==='ar') ? 'جارٍ تحميل الأسئلة...' : 'Loading questions...' }</div>
      </div>`;
      // scroll to quiz area
      window.scrollTo({ top: document.getElementById('quizArea').offsetTop - 20, behavior: 'smooth' });
      // NOTE: actual startSection(key) will be provided in Part 2
    }

    // results button placeholder
    document.getElementById('leaderBtn').addEventListener('click', ()=>{
      alert((lang==='ar') ? 'لوحة النتائج ستُعرض هنا (تُخزن محليًا).' : 'Leaderboard will be shown here (stored locally).');
    });

    // initialize UI
    document.addEventListener('DOMContentLoaded', ()=>{
      renderSectionCards();
    });

  <!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GeoReady Quiz</title>
<style>
/* 🌑 التصميم العام الداكن */
body {
  margin: 0;
  font-family: "Cairo", sans-serif;
  background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
  color: #fff;
  overflow-x: hidden;
}
header {
  text-align: center;
  padding: 20px;
  font-size: 28px;
  font-weight: bold;
  background: #111;
  color: #0ff;
  letter-spacing: 2px;
}
.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px;
}
button {
  background: #0ff;
  color: #000;
  border: none;
  padding: 12px 25px;
  margin: 10px;
  border-radius: 12px;
  cursor: pointer;
  font-size: 16px;
  transition: 0.3s;
}
button:hover {
  background: #00c3ff;
  transform: scale(1.05);
}
.quiz-box {
  display: none;
  text-align: center;
  background: rgba(255,255,255,0.05);
  padding: 20px;
  border-radius: 15px;
  width: 90%;
  max-width: 600px;
}
.option {
  background: #222;
  margin: 8px 0;
  padding: 10px;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
}
.option:hover { background: #333; }
.hide { display: none; }
.fade { animation: fadeIn 0.5s ease-in-out; }
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}
#result {
  display: none;
  text-align: center;
  margin-top: 40px;
}
.score {
  font-size: 22px;
  color: #0ff;
  margin: 15px 0;
}
#timer {
  margin: 10px;
  color: #ff4040;
}
</style>
</head>
<body>
<header>🌍 GeoReady Quiz</header>
<div class="container">
  <div id="menu">
    <h2>اختر القسم لتبدأ 👇</h2>
    <button onclick="startQuiz('hydro')">💧 Hydrogeology Basics</button>
    <button onclick="startQuiz('petro')">🪨 Petrography</button>
    <button onclick="startQuiz('maps')">🗺️ Geological Maps</button>
    <button onclick="startQuiz('general')">🌋 General Geology</button>
  </div>

  <div id="quiz" class="quiz-box fade">
    <h3 id="question"></h3>
    <div id="options"></div>
    <div id="timer">⏱️ 30s</div>
    <button id="nextBtn" onclick="nextQuestion()">التالي ▶️</button>
  </div>

  <div id="result">
    <h2>🏁 النتيجة النهائية</h2>
    <p class="score" id="scoreText"></p>
    <p id="levelText"></p>
    <button onclick="restartQuiz()">🔁 إعادة المحاولة</button>
    <button onclick="goHome()">🏠 العودة للقائمة</button>
  </div>
</div>

<script>
/* ============================
   🧠 منطق الكويز الكامل
============================ */
const quizData = {
  hydro: [
    { q: "ما هو المقصود بالمياه الجوفية؟ / What is meant by groundwater?",
      options: ["مياه سطحية", "مياه تحت سطح الأرض", "مياه الأمطار", "مياه البحر"],
      answer: 1 },
    { q: "أي نوع من الصخور هو أكثر قدرة على تخزين المياه؟ / Which rock type stores most water?",
      options: ["الصخور النارية", "الصخور الرسوبية", "الصخور المتحولة"],
      answer: 1 },
    // (أضف لاحقاً بقية 30 سؤال)
  ],
  petro: [
    { q: "ما الأداة المستخدمة للتعرف على المعادن؟ / Tool used to identify minerals?",
      options: ["مجهر بتروغرافي", "ميزان", "مسطرة"],
      answer: 0 }
    // (أضف لاحقاً)
  ],
  maps: [],
  general: []
};

let currentQuiz = [];
let currentIndex = 0;
let score = 0;
let timer;
let timeLeft = 30;

function startQuiz(category) {
  currentQuiz = quizData[category];
  currentIndex = 0;
  score = 0;
  document.getElementById("menu").style.display = "none";
  document.getElementById("quiz").style.display = "block";
  showQuestion();
}

function showQuestion() {
  clearInterval(timer);
  timeLeft = 30;
  document.getElementById("timer").textContent = "⏱️ 30s";
  const qData = currentQuiz[currentIndex];
  document.getElementById("question").textContent = qData.q;
  const optDiv = document.getElementById("options");
  optDiv.innerHTML = "";
  qData.options.forEach((opt, i) => {
    const div = document.createElement("div");
    div.classList.add("option", "fade");
    div.textContent = opt;
    div.onclick = () => checkAnswer(i);
    optDiv.appendChild(div);
  });
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").textContent = `⏱️ ${timeLeft}s`;
    if (timeLeft <= 0) nextQuestion();
  }, 1000);
}

function checkAnswer(i) {
  const correct = currentQuiz[currentIndex].answer;
  if (i === correct) score += 10; else score -= 5;
  nextQuestion();
}

function nextQuestion() {
  clearInterval(timer);
  currentIndex++;
  if (currentIndex < currentQuiz.length) {
    showQuestion();
  } else {
    endQuiz();
  }
}

function endQuiz() {
  document.getElementById("quiz").style.display = "none";
  document.getElementById("result").style.display = "block";
  document.getElementById("scoreText").textContent = `مجموعك: ${score} نقطة`;
  let level = "💡 Beginner";
  if (score > 200) level = "🔬 Advanced";
  if (score > 280) level = "🧠 Expert Geo";
  document.getElementById("levelText").textContent = level;
}

function restartQuiz() {
  document.getElementById("result").style.display = "none";
  document.getElementById("quiz").style.display = "block";
  currentIndex = 0;
  score = 0;
  showQuestion();
}

function goHome() {
  document.getElementById("result").style.display = "none";
  document.getElementById("menu").style.display = "block";
}
</script>
</body>
</html>