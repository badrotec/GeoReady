<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GeoReady — من الدراسة إلى الميدان</title>
<style>
  :root{
    --bg:#f5f3f1; --card:#fff; --accent:#2b6cb0; --earth:#8d6e63; --dark:#111;
  }
  *{box-sizing:border-box;font-family: system-ui, "Segoe UI", Roboto, "Noto Sans Arabic", "Helvetica Neue", Arial;}
  body{margin:0;background:linear-gradient(180deg,#f7f7f9 0%,var(--bg) 100%);color:var(--dark);line-height:1.45}
  header{background:linear-gradient(135deg, rgba(43,108,176,0.95), rgba(141,110,99,0.95)); color:white;padding:28px 20px;display:flex;align-items:center;gap:20px;flex-wrap:wrap}
  .brand{display:flex;align-items:center;gap:12px;font-weight:700;font-size:20px}
  .logo{width:56px;height:56px;border-radius:10px;background:radial-gradient(circle at 30% 20%,#fff2 0,#fff0 30%),linear-gradient(180deg,#fff0,rgba(255,255,255,0.08));display:flex;align-items:center;justify-content:center}
  .container{max-width:1100px;margin:22px auto;padding:0 18px}
  .hero{display:grid;grid-template-columns:1fr 420px;gap:22px;align-items:center;margin-top:18px}
  .hero-card{background:var(--card);padding:22px;border-radius:12px;box-shadow:0 8px 20px rgba(12,12,12,0.08)}
  h1{margin:0 0 8px;font-size:26px}
  p.lead{margin:0 0 14px;color:#334;opacity:0.95}
  .cta{display:inline-block;background:var(--earth);color:white;padding:10px 14px;border-radius:9px;font-weight:700;text-decoration:none}
  .features{display:flex;gap:12px;flex-wrap:wrap;margin-top:14px}
  .feat{background:#fff7;border-radius:10px;padding:10px 12px;font-size:13px}
  /* right column */
  .card-side{background:linear-gradient(180deg,#fbfbfd,#ffffff);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(10,10,10,0.06)}
  .badge{display:inline-block;background:var(--accent);color:white;padding:6px 9px;border-radius:8px;font-weight:700;margin-bottom:10px}
  /* Academy list */
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:18px}
  .course{background:var(--card);padding:12px;border-radius:10px;box-shadow:0 6px 18px rgba(10,10,10,0.04);cursor:pointer}
  .course h3{margin:0;font-size:15px}
  .course p{margin:6px 0 0;font-size:13px;color:#444}
  /* quiz */
  .quiz{margin-top:18px;background:linear-gradient(180deg,#fff,#fbfbff);padding:14px;border-radius:12px}
  .question{margin-bottom:12px}
  .options button{display:block;width:100%;text-align:right;padding:10px;border-radius:8px;border:1px solid #eee;background:white;margin:8px 0;cursor:pointer}
  .options button.correct{border-color:green;background:linear-gradient(90deg,#ecfff1,#fff)}
  .options button.wrong{border-color:#e04a4a;background:linear-gradient(90deg,#fff5f5,#fff)}
  /* simulator map */
  .map{height:220px;border-radius:10px;background-image:linear-gradient(180deg,#e8f5ff,#fff);position:relative;overflow:hidden;border:1px dashed rgba(20,20,20,0.04)}
  .marker{width:34px;height:34px;border-radius:50%;background:var(--accent);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;cursor:grab}
  .small{font-size:13px;color:#555}
  footer{margin:40px 0 80px;text-align:center;color:#666;font-size:14px}
  /* responsive */
  @media (max-width:900px){ .hero{grid-template-columns:1fr} .grid{grid-template-columns:repeat(2,1fr)} }
  @media (max-width:560px){ .grid{grid-template-columns:1fr} header{justify-content:center} }
  /* language toggle */
  .lang-toggle{margin-left:auto;color:white;display:flex;gap:8px;align-items:center}
  .switch{background:rgba(255,255,255,0.14);padding:6px 8px;border-radius:8px;cursor:pointer}
  /* badges */
  .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .badge-item{background:linear-gradient(180deg,#fff,#fff0);padding:8px 10px;border-radius:8px;border:1px solid rgba(0,0,0,0.04);font-size:13px}
  /* job card */
  .job{background:linear-gradient(180deg,#fff,#f8fbff);padding:12px;border-radius:10px;border:1px solid rgba(0,0,0,0.03);display:flex;justify-content:space-between;align-items:center}
  .btn-ghost{background:transparent;border:1px solid var(--accent);padding:8px 10px;border-radius:9px;color:var(--accent);cursor:pointer}
</style>
</head>
<body>

<header>
  <div class="brand">
    <div class="logo" aria-hidden>
      <svg width="36" height="36" viewBox="0 0 24 24" fill="none"><path d="M3 20h18v1H3z" fill="#ffffff22"/><circle cx="12" cy="9" r="5" fill="white" opacity="0.12"/><path d="M12 4l5 3-5 3-5-3 5-3z" fill="white"/></svg>
    </div>
    GeoReady
  </div>

  <div style="flex:1"></div>

  <div class="lang-toggle" role="navigation">
    <div class="switch" onclick="setLang('ar')">العربية</div>
    <div class="switch" onclick="setLang('en')">EN</div>
  </div>
</header>

<div class="container">
  <div class="hero">
    <div class="hero-card">
      <span class="badge">GeoReady • تجربة ميدانية</span>
      <h1 id="hero-title">حوّل معرفتك إلى جاهزية ميدانية — برنامج تدريبي عملي</h1>
      <p class="lead" id="hero-desc">دورات قصيرة، تحديات تفاعلية، شهادة قابلة للتحميل، ومشاريع حقيقية لتبني ملفك المهني. جاهز للتحدي؟</p>
      <a class="cta" href="#academy" onclick="document.getElementById('academy').scrollIntoView()">ابدأ التدريب الآن</a>

      <div class="features" aria-hidden>
        <div class="feat">🎓 شهادات قابلة للتحميل</div>
        <div class="feat">🧭 تدريبات ميدانية تفاعلية</div>
        <div class="feat">🏆 شارات وتحديات</div>
      </div>

      <div id="academy" class="grid" style="margin-top:18px">
        <div class="course" onclick="openCourse('hydro')">
          <h3>Hydrogeology Basics</h3>
          <p>مقدمة عن المياه الجوفية، مفاهيم أساسية، عملي وجاهز. (10 دقائق)</p>
        </div>
        <div class="course" onclick="openCourse('field')">
          <h3>Field Methods</h3>
          <p>أخذ عينات، قياسات، وطرق ميدانية عملية.</p>
        </div>
        <div class="course" onclick="openCourse('gis')">
          <h3>GIS for Geologists</h3>
          <p>تعلم أساسيات QGIS وGeoJSON لعرض الخرائط.</p>
        </div>
      </div>

      <div class="quiz" id="quizSection">
        <strong>اختبار سريع — اجمع 3 نقاط للحصول على شارة</strong>
        <div id="quiz"></div>
        <div style="margin-top:10px">
          <small class="small">نقاطك: <span id="points">0</span></small>
        </div>
      </div>

    </div>

    <aside class="card-side">
      <div style="display:flex;gap:12px;align-items:center">
        <div>
          <div style="font-weight:800;font-size:18px">تحدي ميداني الآن</div>
          <div class="small">علّمنا بعنوان: "موقع بئر ملوّث" — ضع علامة العينة</div>
        </div>
      </div>

      <div style="margin-top:12px" class="map" id="map">
        <div class="marker" id="marker" title="اسحب لوضع العينة">عينة</div>
      </div>

      <div style="margin-top:12px">
        <button class="btn-ghost" onclick="downloadReport()">تحميل تقرير موجز</button>
      </div>

      <div style="margin-top:14px">
        <strong>شاراتك</strong>
        <div class="badges" id="badges">
          <div class="badge-item">Beginner</div>
        </div>
      </div>

      <div style="margin-top:12px">
        <strong>فرص عمل (نماذج)</strong>
        <div style="margin-top:8px">
          <div class="job">
            <div>
              <div style="font-weight:700">مهندس جيولوجي — ENAGEO</div>
              <div class="small">تبسة • دوام كامل</div>
            </div>
            <div><button class="btn-ghost" onclick="applyJob('ENAGEO')">قدّم</button></div>
          </div>
          <div style="height:8px"></div>
          <div class="job">
            <div>
              <div style="font-weight:700">حقل بيانات — شركة مياه</div>
              <div class="small">بسكرة • عمل ميداني</div>
            </div>
            <div><button class="btn-ghost" onclick="applyJob('WaterCo')">قدّم</button></div>
          </div>
        </div>
      </div>

      <div style="margin-top:14px">
        <button class="cta" onclick="generateCertificate()">الحصول على شهادة تجريبية</button>
      </div>

    </aside>
  </div>

  <!-- Footer / Notes -->
  <div style="margin-top:20px" class="hero-card">
    <h3>لماذا GeoReady مختلف؟</h3>
    <ul style="margin:8px 0 0 18px">
      <li>تدريب عملي مع سيناريوهات حقيقية.</li>
      <li>حفظ تقدّمك — سجلّ مشاريعك الصغيرة.</li>
      <li>قابل للشركات — عرض Portfolio بضغطة.</li>
    </ul>
  </div>

  <footer>
    &copy; GeoReady — جميع الحقوق محفوظة — نموذج تجريبي
  </footer>
</div>

<script>
/* ---------- Internationalization (basic) ---------- */
const strings = {
  ar: {
    heroTitle: "حوّل معرفتك إلى جاهزية ميدانية — برنامج تدريبي عملي",
    heroDesc: "دورات قصيرة، تحديات تفاعلية، شهادة قابلة للتحميل، ومشاريع حقيقية لتبني ملفك المهني. جاهز للتحدي؟",
  },
  en: {
    heroTitle: "Turn knowledge into field readiness — Practical training program",
    heroDesc: "Short lessons, interactive challenges, downloadable certificate, and real mini-projects to build your portfolio. Ready?",
  }
}
function setLang(l){
  const s = strings[l] || strings.ar;
  document.getElementById('hero-title').textContent = s.heroTitle;
  document.getElementById('hero-desc').textContent = s.heroDesc;
  document.documentElement.lang = (l==='en' ? 'en' : 'ar');
  document.documentElement.dir = (l==='en' ? 'ltr' : 'rtl');
}

/* ---------- Simple quiz + points ---------- */
const quizData = [
  {q:"ما هو التعريف الأساسي للمستوى المائي (water table)؟", opts:["الحد الأعلى للماء الجوفي","قناة مياه سطحية","أداة قياس الضغط"], a:0},
  {q:"أي طريقة مناسبة لأخذ عينة مياه من بئر عميق؟", opts:["أخذها من السطح مباشرة","استخدام مضخة غاطسة بعد تنظيف البئر","مزج مع ماء جديد"], a:1},
  {q:"ما الأداة الشائعة لقياس مستوى الماء؟", opts:["Meter tape","Electric sounder","Hammer"], a:1},
];
let points = 0;
function renderQuiz(){
  const out = document.getElementById('quiz');
  out.innerHTML = '';
  quizData.forEach((item, i)=>{
    const div = document.createElement('div'); div.className='question';
    const q = document.createElement('div'); q.innerHTML = `<strong>${i+1}. ${item.q}</strong>`;
    const opts = document.createElement('div'); opts.className='options';
    item.opts.forEach((op,idx)=>{
      const b = document.createElement('button'); b.textContent = op;
      b.onclick = ()=>selectOption(i,idx,b);
      opts.appendChild(b);
    })
    div.appendChild(q); div.appendChild(opts);
    out.appendChild(div);
  })
}
function selectOption(qIdx,optIdx(btn),btn){
  const item = quizData[qIdx];
  const buttons = btn.parentElement.querySelectorAll('button');
  buttons.forEach(b=>b.disabled=true);
  if(optIdx === item.a){
    btn.classList.add('correct'); points += 1;
  } else {
    btn.classList.add('wrong');
    buttons[item.a].classList.add('correct');
  }
  document.getElementById('points').textContent = points;
  checkBadges();
}
function checkBadges(){
  const badges = document.getElementById('badges');
  if(points >= 3 && !document.getElementById('badge-pro')){
    const el = document.createElement('div'); el.className='badge-item'; el.id='badge-pro'; el.textContent='Field Ready • شارة';
    badges.appendChild(el);
  }
}

/* Fix for parameter name collision */
function selectOption(qIdx, optIdx, btn){
  const item = quizData[qIdx];
  const buttons = btn.parentElement.querySelectorAll('button');
  buttons.forEach(b=>b.disabled=true);
  if(optIdx === item.a){
    btn.classList.add('correct'); points += 1;
  } else {
    btn.classList.add('wrong');
    buttons[item.a].classList.add('correct');
  }
  document.getElementById('points').textContent = points;
  checkBadges();
}

/* ---------- Simple draggable marker on the map ---------- */
const marker = document.getElementById('marker');
let isDown = false, offset = {x:0,y:0};
marker.addEventListener('pointerdown', e=>{ isDown=true; marker.setPointerCapture(e.pointerId); offset.x = e.clientX - marker.offsetLeft; offset.y = e.clientY - marker.offsetTop; marker.style.cursor='grabbing';});
document.addEventListener('pointermove', e=>{ if(!isDown) return; const map = document.getElementById('map'); const r = map.getBoundingClientRect(); let left = e.clientX - r.left - offset.x; let top = e.clientY - r.top - offset.y; left = Math.max(6, Math.min(left, r.width-40)); top = Math.max(6, Math.min(top, r.height-40)); marker.style.left = (left + 17) + 'px'; marker.style.top = (top + 17) + 'px';});
document.addEventListener('pointerup', e=>{ if(!isDown) return; isDown=false; marker.style.cursor='grab'; saveSamplePosition(); });

function saveSamplePosition(){
  localStorage.setItem('samplePos', JSON.stringify({l: marker.style.left, t: marker.style.top}));
}

function loadSamplePosition(){
  const p = JSON.parse(localStorage.getItem('samplePos')||'null');
  if(p){ marker.style.left = p.l; marker.style.top = p.t; }
}

/* ---------- Download a short report (text file) ---------- */
function downloadReport(){
  const pos = marker.style.left + ' / ' + marker.style.top;
  const content = `GeoReady Quick Report\nDate: ${new Date().toLocaleString()}\nSample Position: ${pos}\nPoints: ${points}\nNotes: نموذج اختبار سريع.`;
  const blob = new Blob([content],{type:'text/plain;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'geoready_report.txt'; a.click(); URL.revokeObjectURL(url);
}

/* ---------- Certificate generation (canvas -> png) ---------- */
function generateCertificate(){
  const name = prompt('أدخل اسمك ليظهر على الشهادة','Medjahed Badreddine') || 'Candidate';
  const canvas = document.createElement('canvas'); canvas.width=1200; canvas.height=800;
  const ctx = canvas.getContext('2d');
  // Background
  ctx.fillStyle = '#f6f8fb'; ctx.fillRect(0,0,canvas.width,canvas.height);
  // header
  ctx.fillStyle = '#2b6cb0'; ctx.fillRect(0,0,canvas.width,120);
  ctx.fillStyle = 'white'; ctx.font='28px sans-serif'; ctx.fillText('GeoReady Certification',40,70);
  // title
  ctx.fillStyle = '#222'; ctx.font='40px serif'; ctx.fillText('شهادة اجتياز تدريب ميداني',60,220);
  ctx.font='24px sans-serif'; ctx.fillText(`تم منحه(ها) إلى: ${name}`,60,280);
  ctx.font='18px sans-serif'; ctx.fillText(`لإكمال التحديات الميدانية واجتياز الاختبارات (نقاط: ${points})`,60,320);
  ctx.font='16px sans-serif'; ctx.fillText('التاريخ: ' + new Date().toLocaleDateString(),60,360);
  // footer stamp
  ctx.fillStyle = '#8d6e63'; ctx.beginPath(); ctx.arc(1040,640,80,0,2*Math.PI); ctx.fill();
  ctx.fillStyle='white'; ctx.font='20px sans-serif'; ctx.fillText('GeoReady',990,648);
  // download
  const url = canvas.toDataURL('image/png');
  const a = document.createElement('a'); a.href = url; a.download = 'GeoReady_Certificate.png'; a.click();
}

/* ---------- Apply job (demo) ---------- */
function applyJob(company){
  alert('تم إرسال ملف التقديم إلى ' + company + ' (نموذج). يمكنك إضافة Portfolio حقيقي لاحقاً.');
}

/* ---------- Course open (simple modal via prompt) ---------- */
function openCourse(id){
  if(id==='hydro') alert('فتح دورة: Hydrogeology Basics — (محتوى تجريبي). شاهد الفيديو والتحدي.');
  else if(id==='field') alert('فتح دورة: Field Methods — (محتوى تجريبي). تعليمات أخذ العينات.');
  else alert('الدورة قيد الإضافة.');
}

/* ---------- Load initial state ---------- */
renderQuiz(); loadSamplePosition();
</script>

</body>
</html>