<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GeoReady Pro | منصة التدريب الجيولوجي الشاملة للمحترفين (الإصدار التفاعلي)</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Tajawal:wght{400;500;700}&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <style>
    /* ================================= المتغيرات العامة ================================= */
    :root {
      --primary-blue: #0056b3;
      --secondary-blue: #007bff;
      --accent-cyan: #17a2b8;
      --success-green: #28a745;
      --warning-orange: #fd7e14;
      --danger-red: #dc3545;
      --dark-navy: #1a1d29;
      --light-gray: #f8f9fa;
      --white: #ffffff;
      --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --shadow-soft: 0 10px 40px rgba(0,0,0,0.1);
      --shadow-medium: 0 15px 50px rgba(0,0,0,0.15);
      --shadow-strong: 0 20px 60px rgba(0,0,0,0.2);
    }

    /* ================================= التنسيقات العامة ================================= */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Cairo', 'Tajawal', sans-serif;
      line-height: 1.6;
      color: var(--dark-navy);
      background: var(--light-gray);
      overflow-x: hidden;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* ================================= عناصر التفاعلية المُضافة (Modal, Loader, etc.) ================================= */

    /* الـ Modal (النافذة المنبثقة للأدوات/المسارات/المساعد) */
    .modal {
        display: none;
        position: fixed;
        z-index: 3000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.7);
        animation: fadeIn 0.3s;
    }

    .modal-content {
        background-color: var(--white);
        margin: 5% auto;
        padding: 40px;
        border-radius: 20px;
        width: 80%;
        max-width: 900px;
        box-shadow: var(--shadow-strong);
        animation: slideInTop 0.5s;
        text-align: right;
        max-height: 90vh; /* تحديد أقصى ارتفاع */
        overflow-y: auto; /* إضافة شريط تمرير عمودي */
    }

    .close-btn {
        color: var(--danger-red);
        float: left;
        font-size: 40px;
        font-weight: bold;
        transition: color 0.3s;
    }

    .close-btn:hover,
    .close-btn:focus {
        color: var(--warning-orange);
        text-decoration: none;
        cursor: pointer;
    }

    /* ================================= تنسيق شريط البحث الجديد ================================= */
    .search-bar {
        position: relative;
        margin-right: 30px;
    }

    .search-bar input {
        padding: 10px 40px 10px 20px;
        border: 1px solid #ccc;
        border-radius: 25px;
        width: 300px;
        font-family: 'Cairo', sans-serif;
        font-size: 1rem;
        transition: all 0.3s ease;
        text-align: right;
    }

    .search-bar input:focus {
        border-color: var(--primary-blue);
        box-shadow: 0 0 5px rgba(0, 86, 179, 0.5);
    }

    .search-bar button {
        position: absolute;
        left: 5px;
        top: 50%;
        transform: translateY(-50%);
        background: transparent;
        border: none;
        color: var(--primary-blue);
        font-size: 1.2rem;
        cursor: pointer;
        padding: 5px;
    }

    /* ================================= تنسيق Geo-Assistant (Chatbot) ================================= */

    #geoAssistantModal .modal-content {
        max-width: 500px;
        padding: 20px;
        margin: 2% auto;
    }

    #chatBox {
        height: 400px;
        overflow-y: auto;
        border: 1px solid #eee;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 10px;
        background: var(--light-gray);
        display: flex;
        flex-direction: column;
    }

    .message {
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 15px;
        max-width: 80%;
    }

    .user-message {
        background: var(--primary-blue);
        color: var(--white);
        align-self: flex-start;
        border-bottom-right-radius: 0;
    }

    .assistant-message {
        background: var(--accent-cyan);
        color: var(--white);
        align-self: flex-end;
        border-bottom-left-radius: 0;
        animation: fadeIn 0.5s;
    }
    
    .chat-input-container {
        display: flex;
        gap: 10px;
    }

    #userInput {
        flex-grow: 1;
        padding: 10px 15px;
        border: 1px solid #ccc;
        border-radius: 25px;
        font-family: 'Cairo', sans-serif;
    }

    #sendBtn {
        background: var(--success-green);
        color: var(--white);
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        transition: background 0.3s;
    }

    #sendBtn:hover {
        background: #1e7e34;
    }
    
    /* ================================= تنسيق محتوى المسارات والأدوات داخل Modal ================================= */

    .content-section {
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 30px;
        background: #fdfdfd;
    }

    .content-section h4 {
        color: var(--primary-blue);
        border-bottom: 2px solid var(--primary-blue);
        padding-bottom: 10px;
        margin-bottom: 15px;
        font-size: 1.5rem;
    }

    .training-list {
        list-style: none;
    }

    .training-list li {
        padding: 15px;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background 0.3s;
    }
    
    .training-list li:hover {
        background: var(--light-gray);
        cursor: pointer;
    }

    .training-list li button {
        background: var(--accent-cyan);
        color: var(--white);
        border: none;
        padding: 8px 15px;
        border-radius: 20px;
        cursor: pointer;
    }
    
    .tool-info-box {
        background: var(--accent-cyan);
        color: var(--white);
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 25px;
    }

    /* باقي التنسيقات القديمة (الهيدر، التنقل، لوحة القيادة... إلخ) */
    /* ... (تضمين جميع التنسيقات الأخرى من الكود الأصلي) ... */

    header {
      background: var(--gradient-primary);
      color: var(--white);
      padding: 100px 0 80px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="rgba(255,255,255,0.1)"><polygon points="0,0 1000,80 1000,100 0,100"/></svg>');
      background-size: cover;
    }

    .hero-content {
      position: relative;
      z-index: 2;
    }

    .hero-title {
      font-size: 4.5rem;
      font-weight: 900;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      animation: fadeInUp 1s ease-out;
    }

    .hero-subtitle {
      font-size: 1.8rem;
      margin-bottom: 30px;
      opacity: 0.95;
      animation: fadeInUp 1s ease-out 0.2s both;
    }

    .hero-cta {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      animation: fadeInUp 1s ease-out 0.4s both;
    }

    .btn {
      padding: 15px 30px;
      border: none;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .btn-primary {
      background: var(--white);
      color: var(--primary-blue);
      box-shadow: var(--shadow-soft);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 45px rgba(0,0,0,0.15);
    }

    .btn-outline {
      background: transparent;
      color: var(--white);
      border: 2px solid var(--white);
    }

    .btn-outline:hover {
      background: var(--white);
      color: var(--primary-blue);
    }

    /* ================================= شريط التنقل الثابت ================================= */
    .navbar {
      background: var(--white);
      padding: 20px 0;
      box-shadow: var(--shadow-soft);
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .navbar.scrolled {
      padding: 15px 0;
      box-shadow: var(--shadow-medium);
    }

    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 2rem;
      font-weight: 900;
      color: var(--primary-blue);
    }

    .nav-links {
      display: flex;
      gap: 30px;
      list-style: none;
    }

    .nav-links a {
      color: var(--dark-navy);
      text-decoration: none;
      font-weight: 600;
      padding: 10px 15px;
      border-radius: 25px;
      transition: all 0.3s ease;
    }

    .nav-links a:hover, .nav-links a.active {
      background: var(--primary-blue);
      color: var(--white);
    }
    
    /* ================================= لوحة القيادة المتقدمة ================================= */
    .dashboard-section {
      padding: 80px 0;
      background: var(--white);
    }

    .section-title {
      text-align: center;
      font-size: 3rem;
      font-weight: 900;
      margin-bottom: 20px;
      color: var(--dark-navy);
    }

    .section-subtitle {
      text-align: center;
      font-size: 1.3rem;
      color: #666;
      margin-bottom: 60px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-bottom: 50px;
    }

    .stat-card {
      background: var(--white);
      padding: 40px 30px;
      border-radius: 20px;
      box-shadow: var(--shadow-soft);
      text-align: center;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .stat-card:hover {
      transform: translateY(-10px);
      box-shadow: var(--shadow-medium);
      border-color: var(--primary-blue);
    }

    .stat-icon {
      font-size: 3rem;
      margin-bottom: 20px;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .stat-number {
      font-size: 3.5rem;
      font-weight: 900;
      color: var(--primary-blue);
      margin-bottom: 10px;
    }

    .stat-label {
      font-size: 1.2rem;
      color: #666;
      font-weight: 600;
    }

    .progress-section {
      background: var(--gradient-primary);
      padding: 50px;
      border-radius: 25px;
      color: var(--white);
      text-align: center;
    }

    .level-display {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .level-badge {
      background: rgba(255,255,255,0.2);
      padding: 20px 30px;
      border-radius: 15px;
      backdrop-filter: blur(10px);
    }

    .progress-bar-container {
      max-width: 600px;
      margin: 0 auto;
    }

    .progress-bar {
      height: 20px;
      background: rgba(255,255,255,0.3);
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 10px;
    }

    .progress-fill {
      height: 100%;
      background: var(--white);
      border-radius: 10px;
      transition: width 2s ease;
      position: relative;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    /* تحديات اليوم */
    .daily-challenge-card {
        background: var(--gradient-secondary);
        color: var(--white);
        padding: 30px;
        border-radius: 20px;
        margin-top: 50px;
        text-align: right;
        box-shadow: var(--shadow-medium);
    }
    
    .daily-challenge-card h3 {
        font-size: 2rem;
        border-bottom: 3px solid rgba(255,255,255,0.5);
        padding-bottom: 10px;
        margin-bottom: 20px;
    }
    
    .daily-challenge-card .challenge-list {
        list-style: none;
    }
    
    .daily-challenge-card .challenge-list li {
        padding: 15px 0;
        border-bottom: 1px solid rgba(255,255,255,0.2);
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 500;
        transition: opacity 0.5s ease;
    }
    
    .challenge-action button {
        background: var(--white);
        color: var(--danger-red);
        border: none;
        padding: 8px 15px;
        border-radius: 20px;
        font-weight: 700;
        transition: background 0.3s;
    }
    
    .challenge-action button:hover {
        background: #eee;
    }
    /* ================================= نهاية تنسيقات لوحة القيادة ================================= */


    /* ================================= مسارات التعلم ================================= */
    .learning-paths {
      padding: 100px 0;
      background: var(--light-gray);
    }

    .paths-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 40px;
    }

    .path-card {
      background: var(--white);
      border-radius: 25px;
      overflow: hidden;
      box-shadow: var(--shadow-soft);
      transition: all 0.3s ease;
      position: relative;
    }

    .path-card:hover {
      transform: translateY(-15px);
      box-shadow: var(--shadow-strong);
    }

    .path-header {
      padding: 40px 30px;
      background: var(--gradient-primary);
      color: var(--white);
      text-align: center;
      position: relative;
    }

    .path-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      opacity: 0.9;
    }

    .path-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .path-level {
      background: rgba(255,255,255,0.2);
      padding: 8px 20px;
      border-radius: 20px;
      font-size: 0.9rem;
      display: inline-block;
    }

    .path-content {
      padding: 40px 30px;
    }

    .path-modules {
      list-style: none;
      margin-bottom: 30px;
    }

    .path-modules li {
      padding: 15px 0;
      border-bottom: 1px solid #eee;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .path-modules li:last-child {
      border-bottom: none;
    }

    .module-status {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #ddd;
      position: relative;
    }

    .module-status.completed {
      background: var(--success-green);
    }

    .module-status.completed::after {
      content: '✓';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--white);
      font-size: 12px;
      font-weight: bold;
    }

    .path-stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      padding: 20px;
      background: var(--light-gray);
      border-radius: 15px;
    }

    .stat-item {
      text-align: center;
    }

    .stat-item-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-blue);
    }

    .stat-item-label {
      font-size: 0.9rem;
      color: #666;
    }

    /* ================================= الأدوات التفاعلية ================================= */
    .interactive-tools {
      padding: 100px 0;
      background: var(--white);
    }

    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
    }

    .tool-card {
      background: var(--light-gray);
      border-radius: 20px;
      padding: 40px 30px;
      text-align: center;
      transition: all 0.3s ease;
      border: 3px solid transparent;
    }

    .tool-card:hover {
      background: var(--white);
      border-color: var(--primary-blue);
      box-shadow: var(--shadow-medium);
    }

    .tool-icon {
      font-size: 3.5rem;
      margin-bottom: 25px;
      color: var(--primary-blue);
    }

    .tool-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--dark-navy);
    }

    .tool-description {
      color: #666;
      margin-bottom: 25px;
      line-height: 1.8;
    }

    .tool-features {
      list-style: none;
      margin-bottom: 30px;
    }

    .tool-features li {
      padding: 8px 0;
      color: #555;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .tool-features li::before {
      content: '●';
      color: var(--success-green);
      font-weight: bold;
    }

    /* ================================= المشاريع العملية ================================= */
    .projects-section {
      padding: 100px 0;
      background: var(--dark-navy);
      color: var(--white);
    }

    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 40px;
    }

    .project-card {
      background: rgba(255,255,255,0.1);
      border-radius: 20px;
      overflow: hidden;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      transition: all 0.3s ease;
    }

    .project-card:hover {
      transform: translateY(-10px);
      background: rgba(255,255,255,0.15);
    }

    .project-image {
      height: 200px;
      background: var(--gradient-secondary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4rem;
      color: var(--white);
    }

    .project-info {
      padding: 30px;
    }

    .project-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 15px;
    }

    .project-description {
      opacity: 0.9;
      margin-bottom: 20px;
      line-height: 1.7;
    }

    .project-tags {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 25px;
    }

    .project-tag {
      background: rgba(255,255,255,0.2);
      padding: 5px 15px;
      border-radius: 15px;
      font-size: 0.9rem;
    }

    .project-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      font-size: 0.9rem;
      opacity: 0.8;
    }

    /* ================================= نظام الشهادات ================================= */
    .certificates-section {
      padding: 100px 0;
      background: var(--light-gray);
    }

    .cert-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .cert-card {
      background: var(--white);
      border-radius: 20px;
      padding: 40px 30px;
      text-align: center;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .cert-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: var(--gradient-primary);
    }

    .cert-icon {
      font-size: 3rem;
      color: var(--warning-orange);
      margin-bottom: 20px;
    }

    .cert-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--dark-navy);
    }

    .cert-requirements {
      list-style: none;
      margin-bottom: 25px;
      text-align: right;
    }

    .cert-requirements li {
      padding: 8px 0;
      color: #666;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .cert-requirements li::before {
      content: '✓';
      color: var(--success-green);
      font-weight: bold;
      width: 20px;
      text-align: center;
    }

    /* ================================= المجتمع والدعم ================================= */
    .community-section {
      padding: 100px 0;
      background: var(--white);
    }

    .community-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 40px;
    }

    .community-card {
      background: var(--light-gray);
      border-radius: 20px;
      padding: 40px 30px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .community-card:hover {
      background: var(--white);
      box-shadow: var(--shadow-medium);
      transform: translateY(-10px);
    }

    /* ================================= الفوتر ================================= */
    footer {
      background: var(--dark-navy);
      color: var(--white);
      padding: 60px 0 30px;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
      margin-bottom: 40px;
    }

    .footer-section h3 {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--white);
    }

    .footer-section ul {
      list-style: none;
    }

    .footer-section ul li {
      padding: 8px 0;
    }

    .footer-section ul li a {
      color: #ccc;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .footer-section ul li a:hover {
      color: var(--white);
    }

    .footer-bottom {
      border-top: 1px solid #444;
      padding-top: 30px;
      text-align: center;
      color: #ccc;
    }

    /* ================================= الاستجابة ================================= */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 3rem;
      }

      .hero-subtitle {
        font-size: 1.3rem;
      }

      .nav-links {
        display: none;
      }

      .search-bar {
          display: none; /* إخفاء شريط البحث في وضع الجوال لتوفير المساحة */
      }

      .section-title {
        font-size: 2.2rem;
      }

      .paths-grid,
      .tools-grid,
      .projects-grid {
        grid-template-columns: 1fr;
      }

      .level-display {
        flex-direction: column;
        gap: 15px;
      }
    }

    /* ================================= الرسوم المتحركة والـ Floating Action ================================= */

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideInTop {
        from { transform: translateY(-100px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    .floating-action {
      position: fixed;
      bottom: 30px;
      left: 30px;
      background: var(--gradient-primary);
      color: var(--white);
      padding: 15px;
      border-radius: 50%;
      font-size: 1.5rem;
      box-shadow: var(--shadow-medium);
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .floating-action:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-strong);
    }

    .notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: var(--danger-red);
      color: var(--white);
      font-size: 0.8rem;
      padding: 4px 8px;
      border-radius: 10px;
      min-width: 20px;
      text-align: center;
    }

    .floating-assistant-btn { /* زر المساعد الجديد */
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: var(--success-green);
        color: var(--white);
        padding: 15px;
        border-radius: 50%;
        font-size: 1.5rem;
        box-shadow: var(--shadow-medium);
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 1000;
    }
    
    .floating-assistant-btn:hover {
        transform: scale(1.1);
        box-shadow: var(--shadow-strong);
    }

  </style>
</head>
<body>

  <header>
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">🌍 GeoReady Pro</h1>
        <p class="hero-subtitle">منصة التدريب الجيولوجي المتكاملة | من الجامعة إلى سوق العمل</p>
        <div class="hero-cta">
          <a href="#start-journey" class="btn btn-primary">
            <i class="fas fa-rocket"></i>
            ابدأ رحلتك المهنية
          </a>
          <a href="#explore-paths" class="btn btn-outline">
            <i class="fas fa-compass"></i>
            استكشف المسارات
          </a>
        </div>
      </div>
    </div>
  </header>

  <nav class="navbar" id="navbar">
    <div class="container">
      <div class="nav-content">
        <div class="logo">GeoReady Pro</div>
        <ul class="nav-links">
          <li><a href="#dashboard" class="active"><i class="fas fa-tachometer-alt"></i> لوحة القيادة</a></li>
          <li><a href="#learning-paths"><i class="fas fa-graduation-cap"></i> مسارات التعلم</a></li>
          <li><a href="#interactive-tools"><i class="fas fa-tools"></i> الأدوات التفاعلية</a></li>
          <li><a href="#projects"><i class="fas fa-project-diagram"></i> المشاريع العملية</a></li>
          <li><a href="#certificates"><i class="fas fa-certificate"></i> الشهادات</a></li>
          <li><a href="#community"><i class="fas fa-users"></i> المجتمع</a></li>
        </ul>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="ابحث في المسارات، الأدوات، أو الوثائق..." onkeyup="if(event.key === 'Enter') searchPlatform()">
            <button onclick="searchPlatform()"><i class="fas fa-search"></i></button>
        </div>
      </div>
    </div>
  </nav>

  <section id="dashboard" class="dashboard-section">
    <div class="container">
      <h2 class="section-title animate-on-scroll">📊 لوحة القيادة الشخصية</h2>
      <p class="section-subtitle animate-on-scroll">تتبع تقدمك الأكاديمي والمهني بطريقة تفاعلية ومرئية</p>

      <div class="dashboard-grid animate-on-scroll">
        <div class="stat-card">
          <div class="stat-icon"><i class="fas fa-trophy"></i></div>
          <div class="stat-number" id="totalPoints">2,847</div>
          <div class="stat-label">نقاط الخبرة الكلية</div>
        </div>

        <div class="stat-card">
          <div class="stat-icon"><i class="fas fa-star"></i></div>
          <div class="stat-number" id="currentLevel">12</div>
          <div class="stat-label">المستوى الحالي</div>
        </div>

        <div class="stat-card">
          <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
          <div class="stat-number" id="completedModules">28</div>
          <div class="stat-label">وحدة مكتملة</div>
        </div>

        <div class="stat-card">
          <div class="stat-icon"><i class="fas fa-certificate"></i></div>
          <div class="stat-number" id="earnedCerts">5</div>
          <div class="stat-label">شهادة محققة</div>
        </div>
      </div>

      <div class="daily-challenge-card animate-on-scroll">
        <h3><i class="fas fa-bolt"></i> تحديات اليوم السريعة (Daily Quests)</h3>
        <ul class="challenge-list">
          <li>
            <span>تفسير مقطع سيزمي لحقل "شمس" في ثواني</span>
            <span>+150 XP</span>
            <span class="challenge-action"><button onclick="completeDailyChallenge(150, 'تفسير سيزمي')">أكمل التحدي</button></span>
          </li>
          <li>
            <span>تحديد أفضل موقع حفر لـ 5 آبار مياه</span>
            <span>+100 XP</span>
            <span class="challenge-action"><button onclick="completeDailyChallenge(100, 'تحديد موقع آبار')">أكمل التحدي</button></span>
          </li>
          <li>
            <span>تصنيف 10 صخور مصدر بتقنية الذكاء الاصطناعي</span>
            <span>+80 XP</span>
            <span class="challenge-action"><button onclick="completeDailyChallenge(80, 'تصنيف صخور')">أكمل التحدي</button></span>
          </li>
        </ul>
      </div>

      <div class="progress-section animate-on-scroll">
        <h3 style="margin-bottom: 30px; font-size: 2rem;">🎯 رحلتك نحو الاحتراف</h3>
        <div class="level-display">
          <div class="level-badge">
            <h4>المستوى الحالي</h4>
            <div style="font-size: 2rem; font-weight: 900;">12 - خبير متقدم</div>
          </div>
          <div class="level-badge">
            <h4>المستوى التالي</h4>
            <div style="font-size: 1.5rem;">13 - استشاري مبتدئ</div>
          </div>
          <div class="level-badge">
            <h4>التقدم المطلوب</h4>
            <div style="font-size: 1.5rem;">653 XP</div>
          </div>
        </div>

        <div class="progress-bar-container">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 73%"></div>
          </div>
          <p>73% إلى المستوى التالي (1,847 / 2,500 XP)</p>
        </div>

        <div style="margin-top: 30px;">
          <h4 style="margin-bottom: 15px;">🏅 الإنجازات الأخيرة</h4>
          <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            <span style="background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 25px;">
              🛢️ خبير البترول
            </span>
            <span style="background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 25px;">
              ⛏️ محلل التعدين
            </span>
            <span style="background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 25px;">
              💻 مبرمج GIS
            </span>
            <span style="background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 25px;">
              🏗️ مهندس جيوتقني
            </span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="learning-paths" class="learning-paths">
    <div class="container">
      <h2 class="section-title animate-on-scroll">🎓 مسارات التعلم التخصصية</h2>
      <p class="section-subtitle animate-on-scroll">مسارات شاملة مصممة بعناية لتأهيلك لسوق العمل في مختلف التخصصات الجيولوجية</p>

      <div class="paths-grid">
        <div class="path-card animate-on-scroll">
          <div class="path-header">
            <div class="path-icon"><i class="fas fa-oil-can"></i></div>
            <h3 class="path-title">مسار جيولوجيا البترول المتقدم</h3>
            <span class="path-level">مستوى متوسط - متقدم</span>
          </div>
          <div class="path-content">
            <div class="path-stats">
              <div class="stat-item">
                <div class="stat-item-value">24</div>
                <div class="stat-item-label">وحدة تدريبية</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">180</div>
                <div class="stat-item-label">ساعة تدريب</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">3,500</div>
                <div class="stat-item-label">XP كلية</div>
              </div>
            </div>

            <ul class="path-modules">
              <li>
                <div class="module-status completed"></div>
                <span>أساسيات جيولوجيا البترول والصخور المصدر</span>
              </li>
              <li>
                <div class="module-status completed"></div>
                <span>تحليل البيانات السيزمية وتفسير الخرائط</span>
              </li>
              <li>
                <div class="module-status completed"></div>
                <span>نمذجة المكامن باستخدام Petrel</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>تقييم وتطوير الحقول البترولية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>محاكاة إنتاج البترول والغاز</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>الاقتصاد البترولي وتقييم المشاريع</span>
              </li>
            </ul>

            <button class="btn btn-primary" style="width: 100%;" onclick="openPathOrProjectModal('مسار جيولوجيا البترول المتقدم', 'متابعة')">
              <i class="fas fa-play"></i>
              متابعة المسار
            </button>
          </div>
        </div>

        <div class="path-card animate-on-scroll">
          <div class="path-header" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);">
            <div class="path-icon"><i class="fas fa-gem"></i></div>
            <h3 class="path-title">مسار التعدين والموارد المعدنية</h3>
            <span class="path-level">مستوى متوسط</span>
          </div>
          <div class="path-content">
            <div class="path-stats">
              <div class="stat-item">
                <div class="stat-item-value">20</div>
                <div class="stat-item-label">وحدة تدريبية</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">150</div>
                <div class="stat-item-label">ساعة تدريب</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">2,900</div>
                <div class="stat-item-label">XP كلية</div>
              </div>
            </div>

            <ul class="path-modules">
              <li>
                <div class="module-status completed"></div>
                <span>استكشاف الخامات والتنقيب الجيوفيزيائي</span>
              </li>
              <li>
                <div class="module-status completed"></div>
                <span>تقدير الموارد بالطرق الجيوإحصائية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>تصميم المناجم والتخطيط الإنتاجي</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>هندسة الصخور وتقييم الاستقرار</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>معالجة الخامات والتركيز</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>الأثر البيئي والاستدامة في التعدين</span>
              </li>
            </ul>

            <button class="btn btn-primary" style="width: 100%;" onclick="openPathOrProjectModal('مسار التعدين والموارد المعدنية', 'بدء')">
              <i class="fas fa-play"></i>
              بدء المسار
            </button>
          </div>
        </div>

        <div class="path-card animate-on-scroll">
          <div class="path-header" style="background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);">
            <div class="path-icon"><i class="fas fa-tint"></i></div>
            <h3 class="path-title">مسار الهيدروجيولوجيا والبيئة</h3>
            <span class="path-level">مستوى مبتدئ - متوسط</span>
          </div>
          <div class="path-content">
            <div class="path-stats">
              <div class="stat-item">
                <div class="stat-item-value">18</div>
                <div class="stat-item-label">وحدة تدريبية</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">130</div>
                <div class="stat-item-label">ساعة تدريب</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">2,400</div>
                <div class="stat-item-label">XP كلية</div>
              </div>
            </div>

            <ul class="path-modules">
              <li>
                <div class="module-status completed"></div>
                <span>أساسيات حركة المياه الجوفية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>نمذجة المياه الجوفية بـ MODFLOW</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>كيمياء المياه وتقييم الجودة</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>إدارة موارد المياه الجوفية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>تلوث المياه الجوفية ومعالجته</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>التقييم البيئي والمعايير الدولية</span>
              </li>
            </ul>

            <button class="btn btn-primary" style="width: 100%;" onclick="openPathOrProjectModal('مسار الهيدروجيولوجيا والبيئة', 'بدء')">
              <i class="fas fa-play"></i>
              بدء المسار
            </button>
          </div>
        </div>

        <div class="path-card animate-on-scroll">
          <div class="path-header" style="background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);">
            <div class="path-icon"><i class="fas fa-hard-hat"></i></div>
            <h3 class="path-title">مسار الجيولوجيا الهندسية</h3>
            <span class="path-level">مستوى متقدم</span>
          </div>
          <div class="path-content">
            <div class="path-stats">
              <div class="stat-item">
                <div class="stat-item-value">22</div>
                <div class="stat-item-label">وحدة تدريبية</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">165</div>
                <div class="stat-item-label">ساعة تدريب</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">3,200</div>
                <div class="stat-item-label">XP كلية</div>
              </div>
            </div>

            <ul class="path-modules">
              <li>
                <div class="module-status"></div>
                <span>خصائص الصخور والتربة الهندسية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>تحليل الانحدارات والتصدعات</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>أسس المنشآت والهياكل الكبرى</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>الزلازل والمخاطر الجيولوجية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>نمذجة السدود والأنفاق</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>مراقبة واستشعار المنشآت</span>
              </li>
            </ul>

            <button class="btn btn-primary" style="width: 100%;" onclick="openPathOrProjectModal('مسار الجيولوجيا الهندسية', 'بدء')">
              <i class="fas fa-play"></i>
              بدء المسار
            </button>
          </div>
        </div>

        <div class="path-card animate-on-scroll">
          <div class="path-header" style="background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);">
            <div class="path-icon"><i class="fas fa-laptop-code"></i></div>
            <h3 class="path-title">مسار التقنيات الرقمية والـ GIS</h3>
            <span class="path-level">مستوى مبتدئ - متقدم</span>
          </div>
          <div class="path-content">
            <div class="path-stats">
              <div class="stat-item">
                <div class="stat-item-value">26</div>
                <div class="stat-item-label">وحدة تدريبية</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">200</div>
                <div class="stat-item-label">ساعة تدريب</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">3,800</div>
                <div class="stat-item-label">XP كلية</div>
              </div>
            </div>

            <ul class="path-modules">
              <li>
                <div class="module-status completed"></div>
                <span>أساسيات نظم المعلومات الجغرافية</span>
              </li>
              <li>
                <div class="module-status completed"></div>
                <span>برمجة Python للجيولوجيين</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>التحليل المكاني المتقدم</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>الاستشعار عن بُعد وتحليل الصور</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>قواعد البيانات الجيولوجية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>الذكاء الاصطناعي في الجيولوجيا</span>
              </li>
            </ul>

            <button class="btn btn-primary" style="width: 100%;" onclick="openPathOrProjectModal('مسار التقنيات الرقمية والـ GIS', 'متابعة')">
              <i class="fas fa-play"></i>
              متابعة المسار
            </button>
          </div>
        </div>

        <div class="path-card animate-on-scroll">
          <div class="path-header" style="background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);">
            <div class="path-icon"><i class="fas fa-rocket"></i></div>
            <h3 class="path-title">مسار ريادة الأعمال الجيولوجية</h3>
            <span class="path-level">مستوى متقدم - خبير</span>
          </div>
          <div class="path-content">
            <div class="path-stats">
              <div class="stat-item">
                <div class="stat-item-value">16</div>
                <div class="stat-item-label">وحدة تدريبية</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">120</div>
                <div class="stat-item-label">ساعة تدريب</div>
              </div>
              <div class="stat-item">
                <div class="stat-item-value">2,200</div>
                <div class="stat-item-label">XP كلية</div>
              </div>
            </div>

            <ul class="path-modules">
              <li>
                <div class="module-status"></div>
                <span>بناء الشركات الجيولوجية الناشئة</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>إدارة المشاريع والفرق الجيولوجية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>التسويق والمبيعات في الخدمات الجيولوجية</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>التمويل والاستثمار في القطاع</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>الابتكار والتقنيات الناشئة</span>
              </li>
              <li>
                <div class="module-status"></div>
                <span>الشراكات الاستراتيجية والتوسع</span>
              </li>
            </ul>

            <button class="btn btn-primary" style="width: 100%;" onclick="openPathOrProjectModal('مسار ريادة الأعمال الجيولوجية', 'بدء')">
              <i class="fas fa-play"></i>
              بدء المسار
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="interactive-tools" class="interactive-tools">
    <div class="container">
      <h2 class="section-title animate-on-scroll">🛠️ الأدوات التفاعلية والمحاكيات</h2>
      <p class="section-subtitle animate-on-scroll">أدوات متطورة للتدريب العملي والمحاكاة الواقعية لبيئة العمل المهنية</p>

      <div class="tools-grid">
        <div class="tool-card animate-on-scroll">
          <div class="tool-icon"><i class="fas fa-cube"></i></div>
          <h3 class="tool-title">محاكي النمذجة ثلاثية الأبعاد</h3>
          <p class="tool-description">أداة تفاعلية لبناء نماذج جيولوجية ثلاثية الأبعاد ومحاكاة الطبقات والهياكل الجيولوجية</p>
          <ul class="tool-features">
            <li>بناء نماذج الطبقات التفاعلية</li>
            <li>محاكاة التصدعات والطيات</li>
            <li>تصور البيانات البئرية</li>
            <li>تصدير النماذج لبرامج متخصصة</li>
          </ul>
          <button class="btn btn-primary" onclick="openModal('محاكي النمذجة ثلاثية الأبعاد')">تجربة الأداة</button>
        </div>

        <div class="tool-card animate-on-scroll">
          <div class="tool-icon"><i class="fas fa-chart-area"></i></div>
          <h3 class="tool-title">محلل البيانات السيزمية</h3>
          <p class="tool-description">منصة متقدمة لتحليل وتفسير البيانات السيزمية مع أدوات الذكاء الاصطناعي</p>
          <ul class="tool-features">
            <li>تحليل المقاطع السيزمية</li>
            <li>كشف الهيدروكربونات تلقائياً</li>
            <li>مرشحات الضوضاء المتقدمة</li>
            <li>التفسير الجيولوجي المساعد</li>
          </ul>
          <button class="btn btn-primary" onclick="openModal('محلل البيانات السيزمية')">تجربة الأداة</button>
        </div>

        <div class="tool-card animate-on-scroll">
          <div class="tool-icon"><i class="fas fa-flask"></i></div>
          <h3 class="tool-title">مختبر التحليل الجيوكيميائي</h3>
          <p class="tool-description">مختبر افتراضي لإجراء التحاليل الجيوكيميائية وتفسير النتائج</p>
          <ul class="tool-features">
            <li>تحليل العينات الصخرية</li>
            <li>قياس نسب العناصر</li>
            <li>تحديد أنواع المعادن</li>
            <li>تقارير تلقائية مفصلة</li>
          </ul>
          <button class="btn btn-primary" onclick="openModal('مختبر التحليل الجيوكيميائي')">دخول المختبر</button>
        </div>

        <div class="tool-card animate-on-scroll">
          <div class="tool-icon"><i class="fas fa-map-marked-alt"></i></div>
          <h3 class="tool-title">منصة GIS التفاعلية</h3>
          <p class="tool-description">نظام معلومات جغرافية متكامل مع أدوات التحليل المكاني المتقدم</p>
          <ul class="tool-features">
            <li>رسم الخرائط الجيولوجية</li>
            <li>التحليل المكاني الإحصائي</li>
            <li>معالجة صور الأقمار الصناعية</li>
            <li>إنشاء قواعد البيانات المكانية</li>
          </ul>
          <button class="btn btn-primary" onclick="openModal('منصة GIS التفاعلية')">بدء المشروع</button>
        </div>

        <div class="tool-card animate-on-scroll">
          <div class="tool-icon"><i class="fas fa-water"></i></div>
          <h3 class="tool-title">محاكي المياه الجوفية</h3>
          <p class="tool-description">نمذجة تدفق المياه الجوفية ومحاكاة سيناريوهات الضخ والتلوث</p>
          <ul class="tool-features">
            <li>نمذجة أحواض المياه الجوفية</li>
            <li>محاكاة انتشار الملوثات</li>
            <li>تقييم تأثير الضخ</li>
            <li>تحسين شبكات الآبار</li>
          </ul>
          <button class="btn btn-primary" onclick="openModal('محاكي المياه الجوفية')">بدء المحاكاة</button>
        </div>

        <div class="tool-card animate-on-scroll">
          <div class="tool-icon"><i class="fas fa-gem"></i></div>
          <h3 class="tool-title">منصة تقدير الموارد</h3>
          <p class="tool-description">أدوات جيوإحصائية متقدمة لتقدير الموارد المعدنية والبترولية</p>
          <ul class="tool-features">
            <li>تقدير الموارد بالكريجينج</li>
            <li>تحليل عدم اليقين</li>
            <li>تصنيف الموارد والاحتياطي</li>
            <li>التحليل الاقتصادي</li>
          </ul>
          <button class="btn btn-primary" onclick="openModal('منصة تقدير الموارد')">بدء التقدير</button>
        </div>
      </div>
    </div>
  </section>

  <section id="projects" class="projects-section">
    <div class="container">
      <h2 class="section-title animate-on-scroll" style="color: white;">🚀 المشاريع العملية والتطبيقية</h2>
      <p class="section-subtitle animate-on-scroll" style="color: rgba(255,255,255,0.9);">مشاريع حقيقية مبنية على بيانات فعلية من الصناعة لإعدادك لسوق العمل</p>

      <div class="projects-grid">
        <div class="project-card animate-on-scroll">
          <div class="project-image">
            <i class="fas fa-oil-can"></i>
          </div>
          <div class="project-info">
            <h3 class="project-title">مشروع تطوير حقل حاسي مسعود</h3>
            <p class="project-description">
              دراسة شاملة لتطوير أحد أهم الحقول الجزائرية باستخدام بيانات حقيقية وتقنيات النمذجة المتقدمة
            </p>
            <div class="project-tags">
              <span class="project-tag">نمذجة المكامن</span>
              <span class="project-tag">محاكاة الإنتاج</span>
              <span class="project-tag">التحليل الاقتصادي</span>
            </div>
            <div class="project-meta">
              <span><i class="fas fa-clock"></i> 6 أسابيع</span>
              <span><i class="fas fa-users"></i> مشروع جماعي</span>
              <span><i class="fas fa-star"></i> 500 XP</span>
            </div>
            <button class="btn btn-primary" onclick="openPathOrProjectModal('مشروع تطوير حقل حاسي مسعود', 'بدء')">بدء المشروع</button>
          </div>
        </div>

        <div class="project-card animate-on-scroll">
          <div class="project-image">
            <i class="fas fa-mountain"></i>
          </div>
          <div class="project-info">
            <h3 class="project-title">استكشاف خامات الحديد بالونزة</h3>
            <p class="project-description">
              مشروع استكشاف وتقدير الموارد لمنجم الحديد بالونزة مع تطبيق أحدث تقنيات التنقيب والتحليل
            </p>
            <div class="project-tags">
              <span class="project-tag">الاستكشاف الجيوفيزيائي</span>
              <span class="project-tag">تقدير الموارد</span>
              <span class="project-tag">التخطيط التعديني</span>
            </div>
            <div class="project-meta">
              <span><i class="fas fa-clock"></i> 8 أسابيع</span>
              <span><i class="fas fa-user"></i> مشروع فردي</span>
              <span><i class="fas fa-star"></i> 450 XP</span>
            </div>
            <button class="btn btn-primary" onclick="openPathOrProjectModal('مشروع استكشاف خامات الحديد بالونزة', 'بدء')">بدء المشروع</button>
          </div>
        </div>

        <div class="project-card animate-on-scroll">
          <div class="project-image">
            <i class="fas fa-tint"></i>
          </div>
          <div class="project-info">
            <h3 class="project-title">إدارة المياه الجوفية بالواحات</h3>
            <p class="project-description">
              مشروع متكامل لإدارة وحماية المياه الجوفية في المناطق الصحراوية مع التركيز على الاستدامة
            </p>
            <div class="project-tags">
              <span class="project-tag">الهيدروجيولوجيا</span>
              <span class="project-tag">نمذجة MODFLOW</span>
              <span class="project-tag">الإدارة المستدامة</span>
            </div>
            <div class="project-meta">
              <span><i class="fas fa-clock"></i> 5 أسابيع</span>
              <span><i class="fas fa-users"></i> مشروع جماعي</span>
              <span><i class="fas fa-star"></i> 400 XP</span>
            </div>
            <button class="btn btn-primary" onclick="openPathOrProjectModal('مشروع إدارة المياه الجوفية بالواحات', 'بدء')">بدء المشروع</button>
          </div>
        </div>

        <div class="project-card animate-on-scroll">
          <div class="project-image">
            <i class="fas fa-building"></i>
          </div>
          <div class="project-info">
            <h3 class="project-title">تقييم مخاطر الزلازل بالجزائر العاصمة</h3>
            <p class="project-description">
              دراسة جيوتقنية شاملة لتقييم المخاطر الزلزالية وتأثيرها على المنشآت الحضرية والسكنية
            </p>
            <div class="project-tags">
              <span class="project-tag">الجيولوجيا الهندسية</span>
              <span class="project-tag">تقييم المخاطر</span>
              <span class="project-tag">النمذجة الزلزالية</span>
            </div>
            <div class="project-meta">
              <span><i class="fas fa-clock"></i> 7 أسابيع</span>
              <span><i class="fas fa-users"></i> مشروع جماعي</span>
              <span><i class="fas fa-star"></i> 550 XP</span>
            </div>
            <button class="btn btn-primary" onclick="openPathOrProjectModal('مشروع تقييم مخاطر الزلازل بالجزائر العاصمة', 'بدء')">بدء المشروع</button>
          </div>
        </div>

        <div class="project-card animate-on-scroll">
          <div class="project-image">
            <i class="fas fa-satellite"></i>
          </div>
          <div class="project-info">
            <h3 class="project-title">مراقبة التصحر بتقنيات الاستشعار</h3>
            <p class="project-description">
              استخدام الاستشعار عن بُعد والذكاء الاصطناعي لمراقبة ومكافحة التصحر في الجنوب الجزائري
            </p>
            <div class="project-tags">
              <span class="project-tag">الاستشعار عن بُعد</span>
              <span class="project-tag">GIS متقدم</span>
              <span class="project-tag">الذكاء الاصطناعي</span>
            </div>
            <div class="project-meta">
              <span><i class="fas fa-clock"></i> 4 أسابيع</span>
              <span><i class="fas fa-user"></i> مشروع فردي</span>
              <span><i class="fas fa-star"></i> 350 XP</span>
            </div>
            <button class="btn btn-primary" onclick="openPathOrProjectModal('مشروع مراقبة التصحر بتقنيات الاستشعار', 'بدء')">بدء المشروع</button>
          </div>
        </div>

        <div class="project-card animate-on-scroll">
          <div class="project-image">
            <i class="fas fa-recycle"></i>
          </div>
          <div class="project-info">
            <h3 class="project-title">استراتيجية التعدين المستدام</h3>
            <p class="project-description">
              تطوير خطة شاملة للتعدين المستدام مع التركيز على الأثر البيئي والمسؤولية الاجتماعية
            </p>
            <div class="project-tags">
              <span class="project-tag">التعدين المستدام</span>
              <span class="project-tag">التأثير البيئي</span>
              <span class="project-tag">إدارة المشاريع</span>
            </div>
            <div class="project-meta">
              <span><i class="fas fa-clock"></i> 6 أسابيع</span>
              <span><i class="fas fa-users"></i> مشروع جماعي</span>
              <span><i class="fas fa-star"></i> 475 XP</span>
            </div>
            <button class="btn btn-primary" onclick="openPathOrProjectModal('مشروع استراتيجية التعدين المستدام', 'بدء')">بدء المشروع</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="certificates" class="certificates-section">
    <div class="container">
      <h2 class="section-title animate-on-scroll">🏆 نظام الشهادات المهنية</h2>
      <p class="section-subtitle animate-on-scroll">شهادات معتمدة ومعترف بها دولياً تعزز من فرصك المهنية في سوق العمل</p>

      <div class="cert-grid">
        <div class="cert-card animate-on-scroll">
          <div class="cert-icon"><i class="fas fa-medal"></i></div>
          <h3 class="cert-title">شهادة خبير جيولوجيا البترول</h3>
          <ul class="cert-requirements">
            <li>إكمال مسار جيولوجيا البترول بالكامل</li>
            <li>إنجاز 3 مشاريع عملية متقدمة</li>
            <li>اجتياز الاختبار النهائي بنسبة 85%</li>
            <li>تقديم مشروع تخرج معتمد</li>
            <li>120 ساعة تدريب عملي موثقة</li>
          </ul>
          <div style="margin-top: 20px;">
            <strong style="color: var(--success-green);">المكافآت:</strong>
            <p>1000 XP + إمكانية التوظيف المباشر + شبكة علاقات مهنية</p>
          </div>
          <a href="#cert-petroleum" class="btn btn-primary">التقدم للشهادة</a>
        </div>

        <div class="cert-card animate-on-scroll">
          <div class="cert-icon"><i class="fas fa-gem"></i></div>
          <h3 class="cert-title">شهادة مختص تقدير الموارد</h3>
          <ul class="cert-requirements">
            <li>إتقان تقنيات الجيوإحصاء المتقدمة</li>
            <li>خبرة في برامج النمذجة الاحترافية</li>
            <li>إنجاز مشروع تقدير موارد كامل</li>
            <li>فهم المعايير الدولية (JORC, NI 43-101)</li>
            <li>اجتياز ورشة عمل ميدانية</li>
          </ul>
          <div style="margin-top: 20px;">
            <strong style="color: var(--success-green);">المكافآت:</strong>
            <p>800 XP + تأهيل للعمل في الشركات العالمية + ورشة متقدمة</p>
          </div>
          <a href="#cert-resources" class="btn btn-primary">التقدم للشهادة</a>
        </div>

        <div class="cert-card animate-on-scroll">
          <div class="cert-icon"><i class="fas fa-tint"></i></div>
          <h3 class="cert-title">شهادة مهندس هيدروجيولوجي</h3>
          <ul class="cert-requirements">
            <li>إتقان نمذجة المياه الجوفية</li>
            <li>خبرة في تقييم جودة المياه</li>
            <li>مشروع إدارة موارد مائية</li>
            <li>فهم القوانين البيئية المحلية والدولية</li>
            <li>تدريب ميداني 40 ساعة</li>
          </ul>
          <div style="margin-top: 20px;">
            <strong style="color: var(--success-green);">المكافآت:</strong>
            <p>750 XP + شراكة مع وزارة الموارد المائية + دورة تخصصية</p>
          </div>
          <a href="#cert-hydro" class="btn btn-primary">التقدم للشهادة</a>
        </div>

        <div class="cert-card animate-on-scroll">
          <div class="cert-icon"><i class="fas fa-laptop-code"></i></div>
          <h3 class="cert-title">شهادة خبير GIS وتقنيات رقمية</h3>
          <ul class="cert-requirements">
            <li>إتقان برمجة Python للجيولوجيا</li>
            <li>مهارات متقدمة في ArcGIS و QGIS</li>
            <li>مشروع تطبيق ذكاء اصطناعي</li>
            <li>بناء قاعدة بيانات جيولوجية</li>
            <li>مشاركة في مؤتمر تقني</li>
          </ul>
          <div style="margin-top: 20px;">
            <strong style="color: var(--success-green);">المكافآت:</strong>
            <p>900 XP + شهادة Esri المعتمدة + فرص عمل تقنية</p>
          </div>
          <a href="#cert-gis" class="btn btn-primary">التقدم للشهادة</a>
        </div>

        <div class="cert-card animate-on-scroll">
          <div class="cert-icon"><i class="fas fa-shield-alt"></i></div>
          <h3 class="cert-title">شهادة مختص جيولوجيا هندسية</h3>
          <ul class="cert-requirements">
            <li>خبرة في تحليل استقرار المنحدرات</li>
            <li>مهارات تصميم الأسس الهندسية</li>
            <li>مشروع تقييم مخاطر جيولوجية</li>
            <li>استخدام برامج المحاكاة المتخصصة</li>
            <li>تقرير استشاري معتمد</li>
          </ul>
          <div style="margin-top: 20px;">
            <strong style="color: var(--success-green);">المكافآت:</strong>
            <p>850 XP + رخصة ممارسة استشارية + شبكة مقاولين</p>
          </div>
          <a href="#cert-engineering" class="btn btn-primary">التقدم للشهادة</a>
        </div>

        <div class="cert-card animate-on-scroll">
          <div class="cert-icon"><i class="fas fa-rocket"></i></div>
          <h3 class="cert-title">شهادة رائد أعمال جيولوجي</h3>
          <ul class="cert-requirements">
            <li>خطة عمل شركة جيولوجية متكاملة</li>
            <li>فهم تمويل المشاريع التقنية</li>
            <li>مهارات القيادة وإدارة الفرق</li>
            <li>مشروع ريادي قابل للتطبيق</li>
            <li>عرض أمام لجنة مستثمرين</li>
          </ul>
          <div style="margin-top: 20px;">
            <strong style="color: var(--success-green);">المكافآت:</strong>
            <p>1200 XP + دعم صندوق الاستثمار + برنامج حضانة أعمال</p>
          </div>
          <a href="#cert-entrepreneur" class="btn btn-primary">التقدم للشهادة</a>
        </div>
      </div>
    </div>
  </section>

  <section id="community" class="community-section">
    <div class="container">
      <h2 class="section-title animate-on-scroll">👥 المجتمع المهني والدعم</h2>
      <p class="section-subtitle animate-on-scroll">انضم إلى مجتمع نشط من الجيولوجيين المحترفين والخبراء من مختلف أنحاء العالم</p>

      <div class="community-grid">
        <div class="community-card animate-on-scroll">
          <div style="font-size: 3rem; margin-bottom: 25px; color: var(--primary-blue);">
            <i class="fas fa-comments"></i>
          </div>
          <h3 style="font-size: 1.5rem; margin-bottom: 20px; color: var(--dark-navy);">منتديات النقاش التخصصية</h3>
          <p style="color: #666; line-height: 1.8; margin-bottom: 25px;">
            منتديات متخصصة لكل مجال جيولوجي مع خبراء دوليين للإجابة على استفساراتك وتبادل الخبرات
          </p>
          <ul style="list-style: none; margin-bottom: 25px; text-align: right;">
            <li style="padding: 8px 0;">💬 أكثر من 15,000 عضو نشط</li>
            <li style="padding: 8px 0;">🌍 خبراء من 40 دولة</li>
            <li style="padding: 8px 0;">⚡ استجابة خلال ساعتين</li>
            <li style="padding: 8px 0;">📚 مكتبة معرفية ضخمة</li>
          </ul>
          <a href="#forums" class="btn btn-primary">انضم للمنتديات</a>
        </div>

        <div class="community-card animate-on-scroll">
          <div style="font-size: 3rem; margin-bottom: 25px; color: var(--success-green);">
            <i class="fas fa-user-tie"></i>
          </div>
          <h3 style="font-size: 1.5rem; margin-bottom: 20px; color: var(--dark-navy);">برنامج التوجيه المهني</h3>
          <p style="color: #666; line-height: 1.8; margin-bottom: 25px;">
            ربط مباشر مع خبراء الصناعة لجلسات توجيه شخصية ومساعدتك في التخطيط المهني والتطوير
          </p>
          <ul style="list-style: none; margin-bottom: 25px; text-align: right;">
            <li style="padding: 8px 0;">👨‍🏫 جلسات توجيه أسبوعية</li>
            <li style="padding: 8px 0;">🎯 خطة مهنية شخصية</li>
            <li style="padding: 8px 0;">🔗 شبكة علاقات مهنية</li>
            <li style="padding: 8px 0;">📈 متابعة التطور المهني</li>
          </ul>
          <a href="#mentorship" class="btn btn-primary">احجز جلسة توجيه</a>
        </div>

        <div class="community-card animate-on-scroll">
          <div style="font-size: 3rem; margin-bottom: 25px; color: var(--warning-orange);">
            <i class="fas fa-briefcase"></i>
          </div>
          <h3 style="font-size: 1.5rem; margin-bottom: 20px; color: var(--dark-navy);">مركز الفرص المهنية</h3>
          <p style="color: #666; line-height: 1.8; margin-bottom: 25px;">
            منصة توظيف متخصصة بشراكة مع أكبر الشركات في القطاع لضمان حصولك على الفرصة المناسبة
          </p>
          <ul style="list-style: none; margin-bottom: 25px; text-align: right;">
            <li style="padding: 8px 0;">💼 +500 فرصة عمل شهرياً</li>
            <li style="padding: 8px 0;">🏢 شراكة مع 150+ شركة</li>
            <li style="padding: 8px 0;">📝 مساعدة في كتابة السيرة</li>
            <li style="padding: 8px 0;">🎪 معارض التوظيف الافتراضية</li>
          </ul>
          <a href="#careers" class="btn btn-primary">استكشف الفرص</a>
        </div>

        <div class="community-card animate-on-scroll">
          <div style="font-size: 3rem; margin-bottom: 25px; color: var(--accent-cyan);">
            <i class="fas fa-calendar-alt"></i>
          </div>
          <h3 style="font-size: 1.5rem; margin-bottom: 20px; color: var(--dark-navy);">الفعاليات والمؤتمرات</h3>
          <p style="color: #666; line-height: 1.8; margin-bottom: 25px;">
            فعاليات حصرية وورش عمل متخصصة مع خبراء دوليين لتوسيع معرفتك وشبكة علاقاتك المهنية
          </p>
          <ul style="list-style: none; margin-bottom: 25px; text-align: right;">
            <li style="padding: 8px 0;">🎯 ورش عمل أسبوعية</li>
            <li style="padding: 8px 0;">🌐 مؤتمرات دولية</li>
            <li style="padding: 8px 0;">🏆 مسابقات تقنية</li>
            <li style="padding: 8px 0;">🤝 لقاءات تشبيك مهني</li>
          </ul>
          <a href="#events" class="btn btn-primary">تصفح الفعاليات</a>
        </div>

        <div class="community-card animate-on-scroll">
          <div style="font-size: 3rem; margin-bottom: 25px; color: var(--danger-red);">
            <i class="fas fa-headset"></i>
          </div>
          <h3 style="font-size: 1.5rem; margin-bottom: 20px; color: var(--dark-navy);">الدعم الفني المتخصص</h3>
          <p style="color: #666; line-height: 1.8; margin-bottom: 25px;">
            فريق دعم متخصص متاح 24/7 لمساعدتك في المسائل التقنية والأكاديمية والمهنية
          </p>
          <ul style="list-style: none; margin-bottom: 25px; text-align: right;">
            <li style="padding: 8px 0;">⏰ دعم على مدار الساعة</li>
            <li style="padding: 8px 0;">🔧 مساعدة تقنية متخصصة</li>
            <li style="padding: 8px 0;">📖 أدلة ومراجع شاملة</li>
            <li style="padding: 8px 0;">🎥 فيديوهات تعليمية</li>
          </ul>
          <a href="#support" class="btn btn-primary">تواصل معنا</a>
        </div>

        <div class="community-card animate-on-scroll">
          <div style="font-size: 3rem; margin-bottom: 25px; color: var(--secondary-blue);">
            <i class="fas fa-trophy"></i>
          </div>
          <h3 style="font-size: 1.5rem; margin-bottom: 20px; color: var(--dark-navy);">لوحة الشرف والمتصدرين</h3>
          <p style="color: #666; line-height: 1.8; margin-bottom: 25px;">
            نظام تقدير وتكريم للمتميزين مع مكافآت مالية ومنح دراسية وفرص عمل حصرية
          </p>

          <div class="leaderboard" style="margin-bottom: 25px;">
            <div class="leaderboard-item">
              <div class="rank-badge">1</div>
              <div>
                <strong>أحمد بن علي</strong><br>
                <small style="color: #666;">خبير بترول - 8,450 XP</small>
              </div>
            </div>
            <div class="leaderboard-item">
              <div class="rank-badge">2</div>
              <div>
                <strong>فاطمة الزهراء</strong><br>
                <small style="color: #666;">مهندسة تعدين - 7,890 XP</small>
              </div>
            </div>
            <div class="leaderboard-item">
              <div class="rank-badge">3</div>
              <div>
                <strong>محمد العربي</strong><br>
                <small style="color: #666;">خبير GIS - 7,340 XP</small>
              </div>
            </div>
          </div>

          <a href="#leaderboard" class="btn btn-primary">عرض التصنيف الكامل</a>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>🌍 GeoReady Pro</h3>
          <p style="color: #ccc; line-height: 1.8;">
            منصة التدريب الجيولوجي الأولى في المنطقة العربية، نهدف إلى تأهيل جيل جديد من الجيولوجيين المحترفين القادرين على مواجهة تحديات المستقبل.
          </p>
          <div style="margin-top: 20px;">
            <a href="#" style="color: #ccc; font-size: 1.5rem; margin-left: 15px;"><i class="fab fa-facebook"></i></a>
            <a href="#" style="color: #ccc; font-size: 1.5rem; margin-left: 15px;"><i class="fab fa-twitter"></i></a>
            <a href="#" style="color: #ccc; font-size: 1.5rem; margin-left: 15px;"><i class="fab fa-linkedin"></i></a>
            <a href="#" style="color: #ccc; font-size: 1.5rem; margin-left: 15px;"><i class="fab fa-youtube"></i></a>
          </div>
        </div>

        <div class="footer-section">
          <h3>المسارات التعليمية</h3>
          <ul>
            <li><a href="#petroleum">جيولوجيا البترول</a></li>
            <li><a href="#mining">التعدين والموارد</a></li>
            <li><a href="#hydrogeology">الهيدروجيولوجيا</a></li>
            <li><a href="#engineering">الجيولوجيا الهندسية</a></li>
            <li><a href="#gis">التقنيات الرقمية</a></li>
            <li><a href="#entrepreneurship">ريادة الأعمال</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>الأدوات والخدمات</h3>
          <ul>
            <li><a href="#3d-modeling">النمذجة ثلاثية الأبعاد</a></li>
            <li><a href="#seismic-analysis">التحليل السيزمي</a></li>
            <li><a href="#geochem-lab">المختبر الجيوكيميائي</a></li>
            <li><a href="#gis-platform">منصة GIS</a></li>
            <li><a href="#resource-estimation">تقدير الموارد</a></li>
            <li><a href="#project-management">إدارة المشاريع</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>المجتمع والدعم</h3>
          <ul>
            <li><a href="#forums">المنتديات التخصصية</a></li>
            <li><a href="#mentorship">برنامج التوجيه</a></li>
            <li><a href="#career-center">مركز التوظيف</a></li>
            <li><a href="#events">الفعاليات والمؤتمرات</a></li>
            <li><a href="#support">الدعم الفني</a></li>
            <li><a href="#contact">تواصل معنا</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 GeoReady Pro. جميع الحقوق محفوظة | صنع بـ ❤️ للجيولوجيين العرب</p>
        <p style="margin-top: 10px; font-size: 0.9rem;">
          شريك تقني معتمد: <strong>Schlumberger</strong> | <strong>Halliburton</strong> | <strong>Baker Hughes</strong> | <strong>ESRI</strong>
        </p>
      </div>
    </div>
  </footer>

  <div class="floating-action" onclick="openHelpChat()">
    <i class="fas fa-question-circle"></i>
    <div class="notification-badge">3</div>
  </div>

  <div class="floating-assistant-btn" onclick="openGeoAssistantModal()">
    <i class="fas fa-robot"></i>
  </div>


  <div class="achievement-popup" id="achievementPopup">
    <div style="display: flex; align-items: center;">
      <span class="achievement-icon">🏆</span>
      <div>
        <strong>إنجاز جديد!</strong><br>
        <span id="achievementText"></span>
      </div>
    </div>
  </div>

  <div id="toolModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('toolModal')">&times;</span>
      <h2 id="modalTitle" style="color: var(--primary-blue); margin-bottom: 25px;"><i class="fas fa-tools"></i> </h2>
      <div id="modalBody">
        </div>
    </div>
  </div>

  <div id="geoAssistantModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('geoAssistantModal')">&times;</span>
      <h2 style="color: var(--success-green); margin-bottom: 15px;"><i class="fas fa-robot"></i> المساعد الجيولوجي (Geo-Assistant)</h2>
      <div id="chatBox">
        <div class="message assistant-message">
            أهلاً بك! أنا مساعدك الجيولوجي الافتراضي. اسألني عن أي مفهوم، تقنية، أو مشروع جيولوجي.
        </div>
      </div>
      <div class="chat-input-container">
        <input type="text" id="userInput" placeholder="اكتب سؤالك هنا..." onkeyup="if(event.key === 'Enter') sendMessage()">
        <button id="sendBtn" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
  </div>

  <script>
    // ================================= تعريف بيانات المسارات والمشاريع للتحسين التفاعلي =================================
    const pathData = {
        'مسار جيولوجيا البترول المتقدم': {
            icon: 'fas fa-oil-can',
            description: 'مسار شامل يؤهلك لتكون خبير مكامن، بدءاً من الصخور المصدر حتى محاكاة الإنتاج.',
            modules: [
                { title: 'الوحدة 1: تحليل السجل البئري (Log Analysis)', status: 'مكتمل' },
                { title: 'الوحدة 2: تفسير البيانات السيزمية ثنائية وثلاثية الأبعاد', status: 'مكتمل' },
                { title: 'الوحدة 3: نمذجة المكامن ببرنامج Petrel', status: 'جاري' },
                { title: 'الوحدة 4: أساسيات الاقتصاد البترولي', status: 'لم يبدأ' },
            ],
            quiz: 'اختبار الوحدة الثالثة: نمذجة المكامن'
        },
        'مسار التعدين والموارد المعدنية': {
            icon: 'fas fa-gem',
            description: 'تعلم تقنيات الاستكشاف الجيوفيزيائي والجيوإحصائي المتبعة في تقدير الموارد وتصميم المناجم.',
            modules: [
                { title: 'الوحدة 1: الجيوفيزياء التطبيقية لاستكشاف الخامات', status: 'مكتمل' },
                { title: 'الوحدة 2: تقدير الموارد باستخدام الكريجينج', status: 'جاري' },
                { title: 'الوحدة 3: تطبيقات برامج Micromine و Surpac', status: 'لم يبدأ' },
            ],
            quiz: 'اختبار الوحدة الثانية: الكريجينج وتقدير الموارد'
        },
        // يمكن إضافة المزيد من المسارات هنا...
    };

    const projectData = {
        'مشروع تطوير حقل حاسي مسعود': {
            icon: 'fas fa-oil-can',
            description: 'مشروع تطبيق متقدم يركز على استخدام بيانات حقل حاسي مسعود لبناء نموذج ثلاثي الأبعاد واقتراح خطة تطوير للحقل لزيادة الإنتاج.',
            tasks: [
                { title: 'المهمة 1: تنظيف ودمج بيانات الآبار', status: 'مكتمل' },
                { title: 'المهمة 2: بناء الإطار الهيكلي للمكمن', status: 'جاري' },
                { title: 'المهمة 3: إعداد تقرير التقييم الاقتصادي', status: 'لم يبدأ' },
            ],
            submission: 'تقديم تقرير المشروع النهائي (300 XP)'
        },
        // يمكن إضافة المزيد من المشاريع هنا...
    };

    // ================================= سكريبت التفاعل والرسوم المتحركة المُحسَّن =================================

    // ... (كود الدوال: updateLevelProgress, updateStats, showAchievement, completeDailyChallenge, openHelpChat, تفعيل التنقل السلس) ...
    // تم حذف الكود المكرر لتجنب الإطالة، مع العلم أنه تم الإبقاء عليه في النسخة النهائية المدمجة.

    let userStats = {
      totalPoints: 2847,
      currentLevel: 12,
      completedModules: 28,
      earnedCerts: 5,
      xpToNextLevel: 2500, // XP required for next level
      currentXP: 1847, // XP within the current level (2847 % 2500)
      achievements: ['🛢️ خبير البترول', '⛏️ محلل التعدين', '💻 مبرمج GIS', '🏗️ مهندس جيوتقني']
    };

    function updateLevelProgress() {
        const totalXPNeeded = 2500;
        const currentXPInLevel = userStats.totalPoints % totalXPNeeded;
        const progressPercentage = Math.round((currentXPInLevel / totalXPNeeded) * 100);

        const progressBar = document.querySelector('.progress-fill');
        if (progressBar) progressBar.style.width = progressPercentage + '%';

        const xpNeeded = totalXPNeeded - currentXPInLevel;
        const progressText = document.querySelector('.progress-bar-container p');
        if (progressText) progressText.textContent = `${progressPercentage}% إلى المستوى التالي (${currentXPInLevel} / ${totalXPNeeded} XP)`;
        
        const nextLevelXP = document.querySelector('.level-badge:nth-child(3) div');
        if (nextLevelXP) nextLevelXP.textContent = `${xpNeeded} XP`;
    }

    function updateStats() {
      const counters = [
        { element: 'totalPoints', target: userStats.totalPoints },
        { element: 'currentLevel', target: userStats.currentLevel },
        { element: 'completedModules', target: userStats.completedModules },
        { element: 'earnedCerts', target: userStats.earnedCerts }
      ];

      counters.forEach(counter => {
        const element = document.getElementById(counter.element);
        if (!element) return;

        const startValue = parseInt(element.textContent.replace(/,/g, '')) || 0;
        const duration = 2000;
        const increment = (counter.target - startValue) / (duration / 16);
        let currentValue = startValue;

        const timer = setInterval(() => {
          currentValue += increment;
          if (currentValue >= counter.target) {
            currentValue = counter.target;
            clearInterval(timer);
          }
          element.textContent = Math.floor(currentValue).toLocaleString();
        }, 16);
      });
      updateLevelProgress();
    }

    window.addEventListener('load', function() {
      setTimeout(updateStats, 500);
    });
    
    function showAchievement(text) {
      const popup = document.getElementById('achievementPopup');
      const textElement = document.getElementById('achievementText');
      textElement.textContent = text;
      popup.classList.add('show');
      setTimeout(() => {
        popup.classList.remove('show');
      }, 4000);
    }
    
    setTimeout(() => {
      showAchievement('مبروك! لقد أكملت أول مشروع عملي بنجاح');
    }, 5000);

    function completeDailyChallenge(points, challengeName) {
        userStats.totalPoints += points;
        userStats.currentLevel = Math.floor(userStats.totalPoints / 250) + 1;
        updateStats();
        showAchievement(`مهمة مكتملة! ربحت ${points} XP من تحدي: ${challengeName}`);

        const button = event.target;
        const listItem = button.closest('li');
        if (listItem) {
            listItem.style.opacity = '0';
            setTimeout(() => listItem.remove(), 500);
        }

        saveProgress();
    }

    function openHelpChat() {
      alert('مرحباً! فريق الدعم الفني جاهز لمساعدتك في المسائل التقنية، الأكاديمية، أو المهنية. يمكنك استخدام زر المساعد الجيولوجي (الروبوت) لطرح أسئلة سريعة!');
    }
    
    // ================================= وظائف البحث المضافة =================================
    
    function searchPlatform() {
        const query = document.getElementById('searchInput').value.trim();
        if (query.length < 3) {
            alert('الرجاء إدخال كلمة بحث لا تقل عن 3 أحرف.');
            return;
        }

        let results = [];
        if (query.includes('بترول') || query.includes('مكمن')) {
            results.push('مسار جيولوجيا البترول المتقدم (مسار)');
            results.push('مشروع تطوير حقل حاسي مسعود (مشروع)');
        }
        if (query.includes('GIS') || query.includes('رقمية')) {
            results.push('مسار التقنيات الرقمية والـ GIS (مسار)');
            results.push('منصة GIS التفاعلية (أداة)');
        }
        if (query.includes('زلزال') || query.includes('هندسة')) {
            results.push('مسار الجيولوجيا الهندسية (مسار)');
            results.push('تقييم مخاطر الزلازل بالجزائر العاصمة (مشروع)');
        }
        
        const finalResults = [...new Set(results)].join('\n- ');
        
        if (finalResults.length > 0) {
            alert(`🔍 نتائج البحث عن "${query}":\n\n- ${finalResults}`);
        } else {
            alert(`🔍 لا توجد نتائج مطابقة لـ "${query}". يرجى محاولة كلمات بحث أخرى.`);
        }
    }

    // ================================= وظائف Geo-Assistant (Chatbot) المضافة =================================
    
    function openGeoAssistantModal() {
        document.getElementById('geoAssistantModal').style.display = 'block';
        setTimeout(() => document.getElementById('chatBox').scrollTop = document.getElementById('chatBox').scrollHeight, 10);
    }

    function sendMessage() {
        const input = document.getElementById('userInput');
        const chatBox = document.getElementById('chatBox');
        const userText = input.value.trim();

        if (userText === "") return;

        // 1. عرض رسالة المستخدم
        const userMessageDiv = document.createElement('div');
        userMessageDiv.className = 'message user-message';
        userMessageDiv.textContent = userText;
        chatBox.appendChild(userMessageDiv);

        // 2. محاكاة رد المساعد (Geo-Assistant)
        setTimeout(() => {
            const assistantText = getAssistantResponse(userText);
            const assistantMessageDiv = document.createElement('div');
            assistantMessageDiv.className = 'message assistant-message';
            assistantMessageDiv.textContent = assistantText;
            chatBox.appendChild(assistantMessageDiv);
            
            // التمرير التلقائي لأسفل
            chatBox.scrollTop = chatBox.scrollHeight;
        }, 800);

        // 3. مسح حقل الإدخال
        input.value = '';
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function getAssistantResponse(query) {
        const lowerQuery = query.toLowerCase();
        
        if (lowerQuery.includes('مكمن') || lowerQuery.includes('بترول')) {
            return "المكمن البترولي هو مصيدة جيولوجية تجميع فيها الهيدروكربونات (النفط والغاز). يتكون أساسًا من صخور خازنة، صخور غطاء، وصخور مصدر. هل تريد معلومات عن نمذجة المكامن؟";
        } else if (lowerQuery.includes('سيزمية') || lowerQuery.includes('تحليل')) {
            return "البيانات السيزمية هي تقنية جيوفيزيائية لتصوير باطن الأرض باستخدام الموجات الصوتية. يتم تفسيرها لتحديد التراكيب الجيولوجية مثل الطيات والفوالق ومستويات السوائل. يمكنك استخدام 'محلل البيانات السيزمية' في قسم الأدوات للتدريب العملي.";
        } else if (lowerQuery.includes('gis') || lowerQuery.includes('خرائط')) {
            return "نظام المعلومات الجغرافية (GIS) هو نظام حاسوبي مصمم لجمع وتخزين وتحليل وإدارة كافة أنواع البيانات المكانية. يستخدمه الجيولوجيون لرسم الخرائط، تحليل المواقع المثلى للحفر، ومراقبة التغيرات البيئية. يمكنك متابعة 'مسار التقنيات الرقمية والـ GIS' للتعمق.";
        } else if (lowerQuery.includes('كيف حالك') || lowerQuery.includes('مرحبا')) {
            return "أنا جاهز لخدمتك! كيف يمكنني مساعدتك في رحلتك الجيولوجية اليوم؟";
        } else if (lowerQuery.includes('ريادة') || lowerQuery.includes('شركة')) {
            return "ريادة الأعمال الجيولوجية تركز على إنشاء شركات ناشئة تقدم حلولاً جيولوجية مبتكرة (مثل الاستشعار عن بعد، الذكاء الاصطناعي لتحليل البيانات). اطلع على 'مسار ريادة الأعمال الجيولوجية' لمعرفة المزيد.";
        } else if (lowerQuery.includes('ماذا تفعل')) {
            return "أنا مساعد جيولوجي افتراضي، مهمتي هي تقديم إجابات سريعة، توجيهك إلى المحتوى المناسب، وشرح المفاهيم الجيولوجية والتقنية في المنصة.";
        } else {
            return "سؤال رائع! هذا المفهوم يتطلب شرحاً مفصلاً. يرجى مراجعة 'المكتبة المعرفية' في قسم الدعم، أو اختر مساراً تدريبياً يتناول هذا الموضوع.";
        }
    }

    // ================================= وظائف الـ Modal التفاعلية (المسارات والمشاريع والأدوات) =================================

    // دالة إغلاق أي نافذة منبثقة
    function closeModal(modalId = 'toolModal') {
        document.getElementById(modalId).style.display = "none";
    }
    
    // دالة فتح الـ Modal للأدوات التفاعلية
    function openModal(toolName) {
        document.getElementById("toolModal").style.display = "block";
        document.getElementById("modalTitle").innerHTML = `<i class="fas fa-tools"></i> ${toolName}`;

        let toolInfo = `
            <div class="tool-info-box">
                <p style="font-size: 1.1rem; font-weight: 700;">مرحبا بك! هذه الأداة تحاكي بيئة عمل حقيقية لإنجاز المهام الجيولوجية.</p>
                <p><strong>المكافأة:</strong> +75 XP عند إكمال جلسة تدريبية بنجاح.</p>
            </div>
            
            <div class="content-section">
                <h4>📚 المحتوى التعليمي والمراجع</h4>
                <ul class="training-list">
                    <li onclick="showTrainingUnit('الوحدة الأساسية للأداة')">
                        <span>الوحدة 1.1: دليل الاستخدام السريع لـ ${toolName}</span>
                        <button><i class="fas fa-book-open"></i> قراءة</button>
                    </li>
                    <li onclick="showTrainingUnit('المفاهيم المتقدمة في الأداة')">
                        <span>الوحدة 1.2: المفاهيم المتقدمة وتطبيقات الصناعة</span>
                        <button><i class="fas fa-video"></i> مشاهدة</button>
                    </li>
                </ul>
            </div>
            
            <div class="content-section">
                <h4>📝 اختبارات وتحديات الأداة</h4>
                <ul class="training-list">
                    <li onclick="startQuiz('اختبار إتقان أداة ${toolName}')">
                        <span>اختبار الكفاءة النهائي للأداة</span>
                        <button style="background: var(--danger-red);"><i class="fas fa-pencil-alt"></i> ابدأ الاختبار</button>
                    </li>
                    <li onclick="startQuiz('تحدي سرعة في أداة ${toolName}')">
                        <span>تحدي الوقت: إنجاز مهمة في 10 دقائق</span>
                        <button style="background: var(--warning-orange);"><i class="fas fa-bolt"></i> ابدأ التحدي</button>
                    </li>
                </ul>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="simulateToolLaunch('${toolName}')" style="background: var(--success-green); color: white;">
                    <i class="fas fa-desktop"></i> تشغيل بيئة المحاكاة
                </button>
            </div>
        `;
        
        document.getElementById("modalBody").innerHTML = toolInfo;
    }
    
    // دالة فتح الـ Modal للمسارات والمشاريع (تم تحويلها من شكلية إلى وظيفية)
    function openPathOrProjectModal(itemTitle, actionType) {
        const isPath = itemTitle.includes('مسار');
        const data = isPath ? pathData[itemTitle] : projectData[itemTitle];
        const icon = data ? data.icon : 'fas fa-info-circle';
        
        if (!data) {
            // معالجة حالة عدم وجود بيانات (لم يتم إضافتها في Object Data)
            document.getElementById("toolModal").style.display = "block";
            document.getElementById("modalTitle").innerHTML = `<i class="fas fa-exclamation-triangle"></i> ${itemTitle}`;
            document.getElementById("modalBody").innerHTML = `
                <div style="padding: 20px; text-align: center;">
                    <h3 style="color: var(--danger-red); margin-bottom: 25px;">بيانات المسار/المشروع غير متوفرة حالياً</h3>
                    <p style="color: #555;">هذا المسار أو المشروع قيد التجهيز وسيتم إتاحته قريباً بمحتوى تفاعلي شامل. نأسف للإزعاج!</p>
                </div>
            `;
            return;
        }
        
        document.getElementById("toolModal").style.display = "block";
        document.getElementById("modalTitle").innerHTML = `<i class="${icon}"></i> ${itemTitle}`;
        
        let modulesListHTML = '';
        data.modules.forEach(mod => {
            const statusClass = mod.status === 'مكتمل' ? 'completed' : (mod.status === 'جاري' ? 'in-progress' : 'not-started');
            const actionButton = mod.status !== 'مكتمل' 
                ? `<button style="background: ${mod.status === 'جاري' ? 'var(--warning-orange)' : 'var(--primary-blue)'}; color: white;" onclick="showTrainingUnit('${mod.title}')">
                    <i class="fas fa-play"></i> ${mod.status === 'جاري' ? 'متابعة' : 'بدء'}
                  </button>`
                : `<button style="background: var(--success-green); color: white;"><i class="fas fa-check"></i> مكتمل</button>`;
                
            modulesListHTML += `
                <li>
                    <span>${mod.title}</span>
                    ${actionButton}
                </li>
            `;
        });
        
        const mainContent = isPath 
            ? `
                <div class="content-section">
                    <h4>📝 محتوى المسار (${data.modules.length} وحدات)</h4>
                    <p style="color: #666; margin-bottom: 20px;">${data.description}</p>
                    <ul class="training-list">${modulesListHTML}</ul>
                </div>
                
                <div class="content-section">
                    <h4>💡 الاختبار النهائي والشهادة</h4>
                    <p style="color: #666; margin-bottom: 20px;">
                        إكمال هذا الاختبار يفتح لك فرصة الحصول على شهادة ${itemTitle.replace('مسار', 'خبير')}.
                    </p>
                    <button class="btn btn-primary" onclick="startQuiz('${data.quiz}')" style="background: var(--danger-red); color: white;">
                        <i class="fas fa-graduation-cap"></i> ${data.quiz}
                    </button>
                </div>
              `
            : `
                <div class="content-section">
                    <h4>✅ مهام المشروع (${data.tasks.length} مهمة)</h4>
                    <p style="color: #666; margin-bottom: 20px;">${data.description}</p>
                    <ul class="training-list">${modulesListHTML}</ul>
                </div>

                <div class="content-section">
                    <h4>🚀 تقديم المشروع</h4>
                    <p style="color: #666; margin-bottom: 20px;">
                        بعد إكمال جميع المهام، يمكنك تقديم عملك للمراجعة والتقييم.
                    </p>
                    <button class="btn btn-primary" onclick="submitProject('${itemTitle}')" style="background: var(--success-green); color: white;">
                        <i class="fas fa-upload"></i> ${data.submission}
                    </button>
                </div>
            `;

        document.getElementById("modalBody").innerHTML = mainContent;
    }
    
    // دالة محاكاة الدخول إلى وحدة تدريبية
    function showTrainingUnit(unitTitle) {
        closeModal();
        showAchievement(`بدء التدريب: ${unitTitle}`);
        alert(`جاري تشغيل الوحدة التدريبية:\n\n-- ${unitTitle} --\n\n(هنا يتم فتح مشغل فيديو تفاعلي أو صفحة محتوى نصي / اختبار مصغر...)`);
    }

    // دالة محاكاة بدء الاختبار
    function startQuiz(quizName) {
        closeModal();
        showAchievement(`بدء الاختبار: ${quizName}`);
        alert(`جاري إعداد أسئلة الاختبار:\n\n-- ${quizName} --\n\n(في النظام الفعلي، يتم فتح صفحة الأسئلة مع مؤقت زمني ومتابعة للنتيجة...)`);
    }

    // دالة محاكاة تشغيل بيئة المحاكاة الفعلية للأداة
    function simulateToolLaunch(toolName) {
        closeModal();
        showAchievement(`تشغيل بيئة: ${toolName}`);
        alert(`🚀 يتم الآن تحميل بيئة المحاكاة السحابية لـ ${toolName}.\n\n(هنا يتم فتح نافذة منفصلة أو تضمين لوحة تحكم لتطبيق الأداة العملي.)`);
        
        // منح نقاط XP بعد فترة زمنية كمحاكاة لإكمال جلسة العمل
        setTimeout(() => {
            completeToolSession(75, toolName);
        }, 10000); // 10 ثواني (محاكاة)
    }

    // دالة محاكاة تقديم المشروع
    function submitProject(projectName) {
        closeModal();
        showAchievement(`تم تقديم المشروع: ${projectName}`);
        alert(`✅ تم استلام ملفات مشروع ${projectName} بنجاح. سيتم مراجعتها من قبل الخبراء في غضون 72 ساعة. ترقب إشعار التقييم والمكافأة.`);
    }

    // دالة مكافأة إكمال المحاكاة
    function completeToolSession(points, toolName) {
        userStats.totalPoints += points;
        userStats.currentLevel = Math.floor(userStats.totalPoints / 250) + 1;
        updateStats();
        showAchievement(`أكملت جلسة عمل لـ ${toolName}! ربحت ${points} XP`);
        saveProgress();
    }


    // عند النقر خارج الـ Modal، قم بإغلاقه
    window.onclick = function(event) {
        const toolModal = document.getElementById("toolModal");
        const assistantModal = document.getElementById("geoAssistantModal");
        if (event.target == toolModal) {
            closeModal('toolModal');
        }
        if (event.target == assistantModal) {
            closeModal('geoAssistantModal');
        }
    }
    
    // دالة لحفظ التقدم محلياً
    function saveProgress() {
      localStorage.setItem('geoready_progress', JSON.stringify(userStats));
    }

    // دالة لتحميل التقدم
    function loadProgress() {
      const saved = localStorage.getItem('geoready_progress');
      if (saved) {
        userStats = { ...userStats, ...JSON.parse(saved) };
        updateStats();
      }
    }

    // تحميل التقدم المحفوظ عند بدء التشغيل
    window.addEventListener('load', loadProgress);

    // حفظ التقدم كل دقيقة
    setInterval(saveProgress, 60000);

    // تحديث شريط التنقل عند التمرير
    window.addEventListener('scroll', function() {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 100) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    // الرسوم المتحركة عند الظهور (AOS)
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.animate-on-scroll').forEach(el => {
      observer.observe(el);
    });

    // تفعيل التنقل السلس
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    console.log('🌍 GeoReady Pro تم تحميلها بنجاح!');
    console.log('💎 منصة التدريب الجيولوجي الأكثر تقدماً في المنطقة');
  </script>
</body>
</html>

