<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جيولاين - نظام اختبار الجيولوجيا الذكي</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- الخلفية المتحركة -->
    <div class="animated-bg">
        <div class="geology-shapes">
            <div class="crystal-shape"></div>
            <div class="rock-layer"></div>
            <div class="mineral-sparkle"></div>
        </div>
    </div>
    
    <div class="overlay" id="overlay"></div>
    
    <!-- القائمة الجانبية المتطورة -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <i class="fas fa-mountain"></i>
                <h2>جيولاين</h2>
            </div>
            <button class="close-btn" id="close-sidebar-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="sidebar-stats">
            <div class="stat-item">
                <i class="fas fa-gem"></i>
                <span>المستوى: <strong id="user-level">مبتدئ</strong></span>
            </div>
            <div class="stat-item">
                <i class="fas fa-trophy"></i>
                <span>النقاط: <strong id="user-points">0</strong></span>
            </div>
        </div>
        
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active" data-section="welcome-screen">
                <i class="fas fa-home"></i>
                <span>الرئيسية</span>
            </a>
            <a href="#" class="nav-item" data-section="topic-selection">
                <i class="fas fa-layer-group"></i>
                <span>المواضيع</span>
            </a>
            <a href="#" class="nav-item" data-section="progress-screen">
                <i class="fas fa-chart-line"></i>
                <span>التقدم</span>
            </a>
        </nav>
        
        <div class="sidebar-topics-section">
            <h3>المجالات الجيولوجية</h3>
            <div class="sidebar-topics" id="sidebar-topics-list">
                <!-- سيتم تعبئتها بالجافاسكريبت -->
            </div>
        </div>
    </div>
    
    <div class="container">
        <!-- رأس الصفحة المتطور -->
        <header class="main-header">
            <div class="header-content">
                <button class="menu-btn" id="open-sidebar-btn">
                    <i class="fas fa-bars"></i>
                    <span>القائمة</span>
                </button>
                
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-mountain"></i>
                    </div>
                    <div class="logo-text">
                        <h1>جيولاين</h1>
                        <p>نظام الاختبارات الجيولوجية الذكي</p>
                    </div>
                </div>
                
                <div class="header-controls">
                    <div class="language-selector">
                        <button class="lang-btn active" onclick="changeLanguage('ar')">
                            <i class="fas fa-language"></i>
                            العربية
                        </button>
                        <button class="lang-btn" onclick="changeLanguage('en')">
                            <i class="fas fa-language"></i>
                            English
                        </button>
                    </div>
                    
                    <div class="user-badge">
                        <i class="fas fa-user-gear"></i>
                        <span>جيولوجي</span>
                    </div>
                </div>
            </div>
            
            <div class="progress-indicator">
                <div class="progress-track">
                    <div class="progress-fill" id="global-progress"></div>
                </div>
                <span>التقدم العام: <span id="progress-percent">0%</span></span>
            </div>
        </header>
        
        <!-- شاشة البداية المتطورة -->
        <div class="screen welcome-screen active" id="welcome-screen">
            <div class="welcome-hero">
                <div class="hero-icon">
                    <i class="fas fa-globe-americas"></i>
                </div>
                <h2 class="hero-title">مرحباً بك في عالم الجيولوجيا</h2>
                <p class="hero-subtitle">اكتشف أسرار الأرض واختبر معرفتك في رحلة علمية شيقة</p>
                
                <div class="feature-cards">
                    <div class="feature-card">
                        <i class="fas fa-brain"></i>
                        <h4>أسئلة ذكية</h4>
                        <p>نظام أسئلة متطور يتكيف مع مستواك</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-chart-bar"></i>
                        <h4>تتبع التقدم</h4>
                        <p>راقب تطور مهاراتك بالتفصيل</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-medal"></i>
                        <h4>نظام مكافآت</h4>
                        <p>احصل على شارات وجوائز مع تقدمك</p>
                    </div>
                </div>
                
                <button class="large-btn start-btn" id="start-quiz-btn">
                    <i class="fas fa-rocket"></i>
                    ابدأ الرحلة الجيولوجية
                </button>
            </div>
        </div>
        
        <!-- شاشة اختيار الموضوعات المطورة -->
        <div class="screen topic-selection hidden" id="topic-selection">
            <div class="section-header">
                <h2>اختر مجال التخصص</h2>
                <p>اختر من بين المجالات الجيولوجية المتاحة لبدء الاختبار</p>
            </div>
            
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="topic-search" placeholder="ابحث عن موضوع...">
            </div>
            
            <div class="loading-message" id="loading-message">
                <div class="spinner"></div>
                <p>جاري تحميل البيانات الجيولوجية...</p>
            </div>
            
            <div class="topics-container hidden" id="topics-list-container">
                <div class="topics-grid" id="topics-list">
                    <!-- سيتم تعبئتها بالجافاسكريبت -->
                </div>
            </div>
        </div>
        
        <!-- شاشة التقدم والإحصائيات -->
        <div class="screen progress-screen hidden" id="progress-screen">
            <div class="section-header">
                <h2>تقدمك في الرحلة الجيولوجية</h2>
                <p>تابع إحصائياتك وأدائك عبر الزمن</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card primary">
                    <i class="fas fa-star"></i>
                    <div class="stat-info">
                        <h3 id="total-score">0</h3>
                        <p>إجمالي النقاط</p>
                    </div>
                </div>
                <div class="stat-card success">
                    <i class="fas fa-check-circle"></i>
                    <div class="stat-info">
                        <h3 id="correct-answers">0</h3>
                        <p>إجابات صحيحة</p>
                    </div>
                </div>
                <div class="stat-card warning">
                    <i class="fas fa-clock"></i>
                    <div class="stat-info">
                        <h3 id="avg-time">0s</h3>
                        <p>متوسط الوقت</p>
                    </div>
                </div>
                <div class="stat-card info">
                    <i class="fas fa-trophy"></i>
                    <div class="stat-info">
                        <h3 id="user-rank">#1</h3>
                        <p>المركز الحالي</p>
                    </div>
                </div>
            </div>
            
            <div class="progress-chart">
                <h3>تقدم الأسبوع الحالي</h3>
                <div class="chart-container">
                    <canvas id="progressChart"></canvas>
                </div>
            </div>
        </div>
        
        <!-- شاشة الاختبار المحسنة -->
        <div class="screen quiz-screen hidden" id="quiz-screen">
            <div class="quiz-header">
                <div class="quiz-title-section">
                    <h2 id="quiz-title">اختبار الجيولوجيا</h2>
                    <div class="quiz-meta">
                        <span class="difficulty-badge" id="difficulty-badge">متوسط</span>
                        <span class="questions-count" id="questions-count">10 أسئلة</span>
                    </div>
                </div>
                
                <div class="quiz-info">
                    <div class="info-item">
                        <i class="fas fa-list-ol"></i>
                        <span id="question-counter">السؤال 1/10</span>
                    </div>
                    
                    <div class="timer-container">
                        <div class="timer-icon">
                            <i class="fas fa-hourglass-half"></i>
                        </div>
                        <div class="timer-display" id="timer-display">20ث</div>
                    </div>
                    
                    <div class="score-display">
                        <i class="fas fa-bolt"></i>
                        <span id="current-score">0 نقطة</span>
                    </div>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar-fill"></div>
            </div>
            
            <div class="question-section">
                <div class="question-container" id="question-container">
                    <!-- سيتم تعبئتها بالجافاسكريبت -->
                </div>
                
                <div class="quiz-hint hidden" id="quiz-hint">
                    <i class="fas fa-lightbulb"></i>
                    <span id="hint-text">تلميح: تأكد من قراءة السؤال بعناية</span>
                </div>
            </div>
            
            <div class="quiz-controls">
                <button class="control-btn secondary-btn" id="hint-btn">
                    <i class="fas fa-lightbulb"></i>
                    طلب تلميح
                </button>
                
                <div class="main-controls">
                    <button class="control-btn submit-btn" id="submit-btn" disabled>
                        <i class="fas fa-paper-plane"></i>
                        تأكيد الإجابة
                    </button>
                    <button class="control-btn next-btn hidden" id="next-btn">
                        <i class="fas fa-arrow-right"></i>
                        السؤال التالي
                    </button>
                </div>
                
                <button class="control-btn danger-btn" id="quit-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    إنهاء الاختبار
                </button>
            </div>
        </div>
        
        <!-- شاشة النتائج المطورة -->
        <div class="screen results-screen hidden" id="results-screen">
            <div class="results-hero">
                <div class="results-badge" id="results-badge">
                    <i class="fas fa-trophy"></i>
                </div>
                
                <div class="results-header">
                    <h2>تهانينا! أكملت الاختبار</h2>
                    <p class="results-subtitle" id="results-subtitle">أداء رائع في مجال الجيولوجيا</p>
                </div>
                
                <div class="score-display-large">
                    <div class="score-circle">
                        <span class="score-number" id="final-score">85</span>
                        <span class="score-label">نقطة</span>
                    </div>
                    
                    <div class="score-details">
                        <div class="detail-item">
                            <span class="detail-label">الإجابات الصحيحة</span>
                            <span class="detail-value" id="correct-count">8/10</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">الوقت المستغرق</span>
                            <span class="detail-value" id="time-taken">05:30</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">الكفاءة</span>
                            <span class="detail-value" id="efficiency-rate">85%</span>
                        </div>
                    </div>
                </div>
                
                <div class="achievements-section">
                    <h3>الإنجازات المحققة</h3>
                    <div class="achievements-grid" id="achievements-grid">
                        <!-- سيتم تعبئتها بالجافاسكريبت -->
                    </div>
                </div>
                
                <div class="results-actions">
                    <button class="large-btn primary-btn" id="new-quiz-btn">
                        <i class="fas fa-redo"></i>
                        اختبار جديد
                    </button>
                    <button class="large-btn secondary-btn" id="share-results-btn">
                        <i class="fas fa-share"></i>
                        مشاركة النتائج
                    </button>
                </div>
            </div>
            
            <div class="review-section">
                <div class="review-log">
                    <h3>
                        <i class="fas fa-clipboard-check"></i>
                        مراجعة الأخطاء المفاهيمية
                    </h3>
                    <div class="review-area" id="review-area">
                        <!-- سيتم تعبئتها بالجافاسكريبت -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نموذج تأكيد الخروج -->
    <div class="modal hidden" id="quit-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>تأكيد الخروج</h3>
                <button class="modal-close" id="close-quit-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>هل أنت متأكد من رغبتك في إنهاء الاختبار؟ سيتم فقدان تقدمك الحالي.</p>
            </div>
            <div class="modal-actions">
                <button class="btn secondary-btn" id="cancel-quit">استمرار</button>
                <button class="btn danger-btn" id="confirm-quit">إنهاء الاختبار</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>